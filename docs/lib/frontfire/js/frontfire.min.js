"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*! frontfire.js v0.1 | @license MIT | unclassified.software/source/frontfire */
/*! frontfire.js v0.1 | @license MIT | unclassified.software/source/frontfire */
!function(e,t,a){function n(e,t,a){return Math.max(t,Math.min(e,a))}function i(e,t){void 0===t&&(t=0);var a=Math.pow(10,t);return Math.round(e*a)/a}function r(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function o(){var t=e("body");t.css("display"),t.offset()}function s(){!function(e,t,a,n,i){if(!(t in e&&"ffId"in e[t]&&e[t].ffId===a)){var r=e[t];e[t]={ffId:a,get:function(e,t,a){if(n){var i=n(e,t,a);if(null!==i)return i}return r&&r.get?r.get(e,t,a):null},set:function(e,t,a){if(i){var n=i(e,t,a);if(void 0!==n)return n}if(r&&r.set)return r.set(e,t,a)}}}}(e.propHooks,"disabled","disabledchange",void 0,function(t,a,n){t.disabled!==a&&(t.disabled=a,e(t).trigger("disabledchange"))})}function l(e,t){s();var a=function(){e.disabled()?(e.disable(),t.forEach(function(e){return e.disable()})):(e.enable(),t.forEach(function(e){return e.enable()}))};e.on("disabledchange",a),a()}function d(t){var n=e(a),i=e("html");if(t||void 0===t){var r=n.scrollTop(),o=n.scrollLeft();n.on("scroll.ff-prevent-scrolling",function(){n.scrollTop(r),n.scrollLeft(o)}),i.css("touch-action","none")}else n.off("scroll.ff-prevent-scrolling"),i.css("touch-action","")}String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e}),String.prototype.padEnd||(String.prototype.padEnd=function(e,t){return e>>=0,t=String(t||" "),this.length>e?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),String(this)+t.slice(0,e))}),String.prototype.padStart||(String.prototype.padStart=function(e,t){return e>>=0,t=String(t||" "),this.length>e?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),t.slice(0,e)+String(this))}),String.prototype.repeat||(String.prototype.repeat=function(e){if(null==this)throw new TypeError("can't convert "+this+" to object");var t=""+this;if((e=+e)!=e&&(e=0),e<0)throw new RangeError("repeat count must be non-negative");if(e==1/0)throw new RangeError("repeat count must be less than infinity");if(e=Math.floor(e),0==t.length||0==e)return"";if(t.length*e>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");for(var a="",n=0;n<e;n++)a+=t;return a}),Math.trunc=Math.trunc||function(e){return e-e%1},Math.log10=Math.log10||function(e){return Math.log(e)*Math.LOG10E},e.bindInputButtonsDisabled=l,e.forceReflow=o,e.fn.each$=function(t){return this.each(function(a,n){return n=e(n),t.call(n,a,n)})},e.fn.valChange=function(e){var t=this.val(),a=t===e;!a&&Array.isArray(t)&&Array.isArray(e)&&(a=t.length===e.length&&t.every(function(t,a){return t===e[a]})),a||this.val(e).change()},e.isSet=function(e){return void 0!==e&&null!==e},e.isBoolean=function(e){return"boolean"==typeof e},e.isNumber=function(e){return"number"==typeof e},e.isString=function(e){return"string"==typeof e},e.isEven=function(t){return e.isNumber(t)&&t%2==0},e.isOdd=function(t){return e.isNumber(t)&&t%2==1},e.isAndroid=function(){return!!navigator.userAgent.match(/Android/)},e.isIos=function(){return!!navigator.platform.match(/iPhone|iPad|iPod/)},e.isLinux=function(){return!!navigator.platform.match(/Linux/)&&!e.isAndroid()},e.isMac=function(){return!!navigator.platform.match(/Mac/)},e.isWindows=function(){return!!navigator.platform.match(/Win/)},e.isAndroid()&&e("html").addClass("simple-dimmer"),e.isBlink=function(){return(e.isChrome()||e.isOpera())&&!!t.CSS},e.isChrome=function(){return!(!t.chrome||!t.chrome.webstore&&!t.chrome.runtime)},e.isEdge=function(){return!e.isInternetExplorer()&&!!t.StyleMedia},e.isEdgeChromium=function(){return e.isChrome()&&-1!=navigator.userAgent.indexOf("Edg")},e.isFirefox=function(){return"undefined"!=typeof InstallTrigger},e.isInternetExplorer=function(){return!!a.documentMode},e.isOpera=function(){return!!t.opr&&!!opr.addons||!!t.opera||navigator.userAgent.indexOf(" OPR/")>=0},e.isSafari=function(){return/constructor/i.test(t.HTMLElement)||"[object SafariRemoteNotification]"===(!t.safari||"undefined"!=typeof safari&&safari.pushNotification).toString()};function c(t,a,n){Object.defineProperty(e.fn,t,{get:function(){var t=a;for(var i in n)e.isFunction(n[i])&&(t[i]=n[i].bind(this));return t}})}function f(t,a,n,i,r){r=r||{};var o=e.extend({},a),s=e(n).data("opt");if(void 0!==s)try{s=new Function("return "+s+";")(),o=e.extend(o,s)}catch(e){console.error("ERROR: data-opt value for "+t+" cannot be parsed:",s,e)}for(var l in a)if(void 0===r[l]){var d=e(n).data("opt-"+l);void 0!==d&&(e.isFunction(i[l])?o[l]=i[l](d):o[l]=d)}return e.extend(o,r),e(n).data("ff-"+t+"-options",o),o}function h(t,a){return e(a).data("ff-"+t+"-options")||{}}e.extend(e.expr[":"],{focusable:function(t){return function(t,a){var n,i,r,o,s,l=t.nodeName.toLowerCase();return"area"===l?(i=(n=t.parentNode).name,!(!t.href||!i||"map"!==n.nodeName.toLowerCase())&&(r=e("img[usemap='#"+i+"']")).length>0&&r.is(":visible")):(/^(input|select|textarea|button|object)$/.test(l)?(o=!t.disabled)&&(s=e(t).closest("fieldset")[0])&&(o=!s.disabled):o="a"===l&&t.href||a,o&&e(t).is(":visible")&&"visible"===e(t).css("visibility"))}(t,void 0!==e.attr(t,"tabindex"))}});var u="ff-accordion",p={exclusive:!1,scrollOffset:0,scrollOffsetElement:null};c("accordion",function(t){return this.each(function(a,n){var i=e(n);if(!i.hasClass(u)){var r=f("accordion",p,i,{},t);i.addClass(u),i.children("div").each$(function(t,a){var n=a.children("div").first(),s=a.children("div").last();n.css("transition","none"),n.addClass("ff-accordion-header"),o(),n.css("transition",""),n.attr("tabindex","0"),s.addClass("ff-accordion-content"),n.click(function(){s[0].clientHeight?i.accordion.collapse(a):i.accordion.expand(a)}),n.keydown(function(e){13===e.which&&(e.preventDefault(),n.click())});var l=a.attr("id");void 0!==l&&location.hash==="#"+l?(a.addClass("expanded"),s.css("height","auto"),e(function(){var t=r.scrollOffset||0;r.scrollOffsetElement&&(t+=e(r.scrollOffsetElement).height()),e("html,body").animate({scrollTop:a.offset().top-t})})):(s.css("transition","none"),i.accordion.collapse(a),o(),s.css("transition",""))})}})},{collapse:function(t){return this.each(function(n,i){var r=e(i),s=(h("accordion",r),r.children("div"));if(void 0!==t){var l,d=(l=e.isNumeric(t)?s.eq(+t):e(t)).children("div.ff-accordion-content").first();if(!d.hasClass("ff-fixed-height")){d.css("height",d[0].scrollHeight),o(),d.css("height",0),d.addClass("ff-fixed-height"),l.removeClass("expanded");var c=e.Event("itemCollapse");c.item=l,r.trigger(c)}var f=l.attr("id");void 0!==f&&location.hash==="#"+f&&history.replaceState(null,a.title,location.pathname+location.search)}else s.each(function(e,t){r.accordion.collapse(t)})})},expand:function(t){return this.each(function(n,i){var r=e(i),o=h("accordion",r),s=r.children("div");if(void 0!==t||o.exclusive){var l,d=(l=e.isNumeric(t)?s.eq(+t):e(t)).children("div.ff-accordion-content").first();if(!d[0].clientHeight){d.css("height",d[0].scrollHeight),d.on("transitionend",function e(t){"height"==t.originalEvent.propertyName&&(d.css("height","auto"),d.off("transitionend",e),d.removeClass("ff-fixed-height"))}),l.addClass("expanded");var c=e.Event("itemExpand");if(c.item=l,r.trigger(c),o.exclusive){var f=!1;s.each(function(t,a){a!==l[0]?(f||e(a).children("div.ff-accordion-content").height(),r.accordion.collapse(a)):f=!0})}var u=l.attr("id");void 0!==u&&history.replaceState(null,a.title,"#"+u)}}else s.each(function(e,t){r.accordion.expand(t)})})}}),e.fn.accordion.defaults=p;var v="ff-carousel",m="ff-carousel-indicator",g={active:0,items:1,dotsEach:-1,gutter:0,indicator:!0,autoPlay:!1,autoPlayInterval:4e3,pauseOnHover:!0,dragCursor:void 0,animation:"slide-all",loop:!1};c("carousel",function(t){return this.each(function(a,i){var r=e(i);if(!r.find("."+v).length){var s=f("carousel",g,r,{},t);(s.items>1||s.gutter>0)&&(s.animation="slide-all");var l=e("<div/>").addClass(v);s._gutterWidth=(s.items-1)/s.items*s.gutter,s._gutterOffset=1/s.items*s.gutter,s._itemWidthPercent=100/s.items,s._layout=$;var d,c,h,u,p,b,w,y,C=0,k=r.children(),x="";if(-1===s.dotsEach&&(s.dotsEach=s.items),s.dotsEach=n(s.dotsEach,0,s.items),k.each$(function(e,t){t.css("width","calc("+s._itemWidthPercent+"% - "+s._gutterWidth+"px)"),C=Math.max(C,t.outerHeight()),t.detach().appendTo(l)}),l.appendTo(r),l.css("height",C),s.indicator)for(var T=e("<div/>").addClass(m).appendTo(r),D=Math.ceil(k.length/s.dotsEach)-(s.items-s.dotsEach),M=function(t){var a=e("<span tabindex='0'><span/></span>").appendTo(T),n=function(){r.carousel.activeItem(t*s.dotsEach),L(),P()};a.click(n),a.keydown(function(e){13===e.which&&(e.preventDefault(),n())})},E=0;E<D;E++)M(E);r.carousel.activeItem(s.active),l.draggable({axis:"x",dragCursor:s.dragCursor}),l.on("draggablestart",function(e){var t=Math.abs(e.dragPoint.left-e.newPoint.left);if(Math.abs(e.dragPoint.top-e.newPoint.top)>t)e.preventDefault();else{y=l.width()/s.items,u=h=$();var a=Math.max(0,k.length-s.items);b=-s.active,w=a-s.active,s._isDragging=!0,I(),L()}}),l.on("draggablemove",function(e){function t(e){return-.25/(e/.25+1)+.25}c=h-(e.newPoint.left-e.elemRect.left)/y,p=c-u,u=c,e.newPoint=e.elemRect,c<b&&(c=b-t(b-c)),c>w&&(c=w+t(c-w)),$(c)}),l.on("draggableend",function(e){z(),P(),s._isDragging=!1;var t=(s.active+c)/s.dotsEach;t=p>0?Math.ceil(t):Math.floor(t),r.carousel.activeItem(t*s.dotsEach)}),o(),z();var S=0;s.autoPlay&&(s.pauseOnHover&&(l.mouseenter(L),l.mouseleave(P)),d=setTimeout(A,s.autoPlayInterval))}function L(){d&&clearTimeout(d),S++}function P(e){S--,s.autoPlay&&!S&&(d=setTimeout(A,2*s.autoPlayInterval))}function A(){var e=s.active;(e+=s.dotsEach)>k.length-s.items&&(e=0),r.carousel.activeItem(e),d=setTimeout(A,s.autoPlayInterval)}function I(){x="",k.css("transition",x)}function z(){var e="0.4s";"fade"===s.animation&&(e="0.8s"),x="left 0.4s ease-in-out, opacity "+e+" ease-in-out",k.css("transition",x)}function $(e){if(void 0===e){var t=[],a=!0;switch(s.animation){case"fade":var i=void 0,r=void 0,d=void 0;return k.each$(function(e,t){1==t.css("z-index")&&(i=e),2==t.css("z-index")&&(r=e,d=parseFloat(t.css("opacity")))}),void 0!==r?i>r?i+(1-d)-s.active-1:i+d-s.active:void 0!==i?i-s.active:0;case"slide-in":var c=!1,f=-1;return k.each$(function(e,n){var i=parseFloat(n.css("left"));t.push(i),i!==t[0]&&(a=!1),0===i&&(c=!0),i>0&&-1===f&&(f=e)}),a&&t[0]<0?k.length-1-t[0]/y-s.active:c?f>0?f-t[f]/y-s.active:0:-t[0]/y-s.active;case"slide-out":var h=!1,u=-1;return k.each$(function(e,n){var i=parseFloat(n.css("left"));t.push(i),i!==t[0]&&(a=!1),i>=0&&(h=!0),0===i&&-1===u&&(u=e)}),a&&t[0]>0?-t[0]/y-s.active:h?u>0?u-1+-t[u-1]/y-s.active:0:k.length-1+-t[t.length-1]/y-s.active;case"slide-fade":return-parseFloat(k.eq(s.active).css("left"))/(y/10);case"slide-all":default:return-parseFloat(k.eq(s.active).css("left"))/y}}switch(s.animation){case"fade":if(0!==e){var p=s.active+Math.trunc(e),v=s.active+Math.trunc(e)+Math.sign(e);k.each$(function(t,a){t===p?a.css("z-index",1).css("opacity",1):t===v?a.css("z-index",2).css("opacity",Math.abs(e)-Math.trunc(Math.abs(e))):a.css("z-index",0).css("opacity",0)})}else{var m=void 0,g=void 0,b=void 0;if(k.each$(function(e,t){1==t.css("z-index")&&(m=e),2==t.css("z-index")&&(g=e,b=parseFloat(t.css("opacity")))}),s.active===m)k.eq(g).css("opacity",0).css("pointer-events","none");else if(s.active===g)I(),k.eq(m).css("z-index",2).css("opacity",1-b),k.eq(g).css("z-index",1).css("opacity",1).css("pointer-events",""),o(),s._isDragging||z(),k.eq(m).css("opacity",0).css("pointer-events","none");else{var w=void 0;k.each$(function(e,t){1==t.css("z-index")&&(w=e)}),I(),k.eq(s.active).css("z-index",1).css("opacity",1).css("pointer-events",""),o(),s._isDragging||z(),k.each$(function(e,t){e===s.active||(e===w?t.css("z-index",2).css("opacity",0).css("pointer-events","none"):t.css("z-index",0).css("opacity",0).css("pointer-events",""))})}}k.each$(function(e,t){t.css("z-index"),t.css("opacity"),s.active});break;case"slide-in":k.each$(function(t,a){var i=s.active+e<=k.length-1?n(100*(t-s.active-e),0,100):100*(k.length-1-s.active-e);a.css("left",i+"%"),a.css("z-index",t)});break;case"slide-out":k.each$(function(t,a){var i=s.active+e>=0?n(100*(t-s.active-e),-100,0):100*(-s.active-e);a.css("left",i+"%"),a.css("z-index",k.length-1-t)});break;case"slide-fade":k.each$(function(t,a){var i=100*(t-s.active)/10,r=(t-s.active)*s._gutterOffset-e*l.width()/10;a.css("left","calc("+i+"% + "+r+"px)");var o=1-n(Math.abs(t-(s.active+e)),0,1);a.css("opacity",o)});break;case"slide-all":default:k.each$(function(t,a){var n=(t-s.active)*s._itemWidthPercent,i=(t-s.active)*s._gutterOffset-e*l.width()/s.items;a.css("left","calc("+n+"% + "+i+"px)")})}}})},{activeItem:function(t){if(void 0===t){var a=this.first();if(0===a.length)return;return h("carousel",a).active}return this.each(function(a,i){var r=e(i),o=h("carousel",r);if(!o._isDragging){var s,l=r.find("."+v).children();t===1/0&&(t=l.length),s=n(s=e.isNumeric(t)?+t:t.index(),0,l.length-o.items),o.active=s,o._layout(0),r.find("."+m).children().removeClass("active").eq(Math.ceil(s/o.dotsEach)).addClass("active"),r.trigger("activeItemChange")}})}}),e.fn.carousel.defaults=g,function(a){function r(t){if(!(this instanceof r))return new r(t);if("string"==typeof t){if(""===t)return this.format="CSS",void(this.r=this.g=this.b=this.a=0);this.format=t.match(/^rgba?\(/)?"CSS":"HTML",t.match(/^\s*[0-9A-Fa-f]{3}([0-9A-Fa-f]{3}([0-9A-Fa-f]{2})?)?\s*$/)&&(t="#"+t.trim());var n=e("<div/>").css("color",t).css("color").match(/rgba?\(\s*([0-9.]+)\s*,\s*([0-9.]+)\s*,\s*([0-9.]+)\s*(?:,\s*([0-9.]+)\s*)?\)/);if(n)return this.r=c(Number(n[1])),this.g=c(Number(n[2])),this.b=c(Number(n[3])),void(this.a=n[4]!==a?d(Number(n[4])):1);var o=e("<canvas width='1' height='1'/>")[0].getContext("2d");o.fillStyle=t,o.fillRect(0,0,1,1);var s=o.getImageData(0,0,1,1).data;return this.r=s[0],this.g=s[1],this.b=s[2],void(this.a=s[3]/255)}if("number"!=typeof t){if("object"===(void 0===t?"undefined":_typeof(t)))return this.format=t.format!==a?t.format:"Object",this.r=c(t.r),this.g=c(t.g),this.b=c(t.b),void(this.a=t.a!==a?d(t.a):1);console.error("Invalid color:",t)}else{this.format="IntARGB",this.r=t>>16&255,this.g=t>>8&255,this.b=255&t;var l=t>>24&255;this.a=0!==l?i(l/255,3):1}}t.Color=r;var o=r.prototype;function s(e,t,a){return e=r(e),t&&e.updateHSL(),a.call(e),t&&e.updateRGB(),e}function l(e){return 255===e?256:e}function d(e){return n(e,0,1)}function c(e){return n(e,0,255)}o.toString=function(){switch(this.format){case"IntARGB":return this.toIntARGB();case"HTML":return this.toHTML();case"CSS":default:return this.toCSS()}},o.toCSS=function(){return this.a===a||1===this.a?"rgb("+this.r+", "+this.g+", "+this.b+")":"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")"},o.toHTML=function(){function e(e){return(e<16?"0":"")+i(c(e)).toString(16).toLowerCase()}var t="#"+e(this.r)+e(this.g)+e(this.b);return this.a!==a&&1!==this.a&&(t+=e(255*this.a)),t},o.toIntARGB=function(){return(this.a!==a?i(255*d(this.a)):255)<<24|i(c(this.r))<<16|i(c(this.g))<<8|i(c(this.b))},o.updateHSL=function(){this.r=c(this.r),this.g=c(this.g),this.b=c(this.b);var e=this.r/255,t=this.g/255,a=this.b/255,n=Math.min(e,t,a),i=Math.max(e,t,a);return this.h=i===n?0:i===e?60*(t-a)/(i-n)%360:i===t?(60*(a-e)/(i-n)+120)%360:(60*(e-t)/(i-n)+240)%360,this.h<0&&(this.h+=360),this.s=0,this.l=(i+n)/2,i===n?this.s=0:this.l<=.5?this.s=(i-n)/(2*this.l):this.s=(i-n)/(2-2*this.l),this},o.updateRGB=function(){this.h=n(this.h,0,366),this.s=d(this.s),this.l=d(this.l);var e=this.l<.5?this.l*(1+this.s):this.l+this.s-this.l*this.s,t=2*this.l-e,r=this.h/360,o={r:r+1/3,g:r,b:r-1/3},s=this;return["r","g","b"].forEach(function(a){o[a]<0&&o[a]++,o[a]>1&&o[a]--,o[a]<1/6?s[a]=t+6*(e-t)*o[a]:o[a]<.5?s[a]=e:o[a]<2/3?s[a]=t+6*(e-t)*(2/3-o[a]):s[a]=t,s[a]=i(255*s[a])}),this.a===a&&(this.a=1),this},o.blendWith=function(e,t,n){var o=this.h!==a||e.h!==a,s=r(this);return e=r(e),t=d(t),["r","g","b"].forEach(function(a){s[a]=c(i(l(s[a])+(l(e[a])-l(s[a]))*t))}),n&&(s.a=i(s.a+(e.a-s.a)*t,3)),o&&s.updateHSL(),s},o.invert=function(){return s(this,!1,function(){this.r=255-c(this.r),this.g=255-c(this.g),this.b=255-c(this.b)})},o.complement=function(){return s(this,!0,function(){this.h=(this.h+180)%360})},o.lighten=function(e){return s(this,!0,function(){this.l=d(this.l+d(e)*(1-this.l))})},o.darken=function(e){return s(this,!0,function(){this.l=d(this.l*(1-d(e)))})},o.alpha=function(e){return s(this,!0,function(){this.a=d(e)})},o.gray=function(){return s(this,!1,function(){var e=i(.3*c(this.r)+.59*c(this.g)+.11*c(this.b));this.r=e,this.g=e,this.b=e,this.a=1})},o.isDark=function(){return this.gray().r<144},o.text=function(){return s(this,!1,function(){var e=this.isDark()?255:0;this.r=e,this.g=e,this.b=e,this.a=1})}}();var b=e.fn.toggle;e.fn.toggle=function(){var e=arguments;return this.each$(function(t,a){b.apply(a.data("ff-replacement")||a,e)})};var w=e.fn.show;e.fn.show=function(){var e=arguments;return this.each$(function(t,a){w.apply(a.data("ff-replacement")||a,e)})};var y=e.fn.hide;e.fn.hide=function(){var e=arguments;return this.each$(function(t,a){y.apply(a.data("ff-replacement")||a,e)})},e.fn.rect=function(e){var t=e?this.position():this.offset(),a=this.outerWidth(),n=this.outerHeight();return{top:t.top,left:t.left,right:t.left+a,bottom:t.top+n,width:a,height:n}},e.fn.visible=function(t){return void 0!==t?this.each(function(a,n){t?e(n).show():e(n).hide()}):0!==this.length?"none"!==(this.data("ff-replacement")||this).css("display"):void 0},e.fn.disabled=function(t,a){return void 0!==t?this.each(function(n,i){t?e(i).disable(a):e(i).enable(a)}):0!==this.length?this[0].disabled||void 0!==this.attr("disabled"):void 0},e.fn.enable=function(t){return this.each$(function(a,n){"disabled"in n[0]?(n.prop("disabled",!1),n.data("ff-replacement")&&n.data("ff-replacement").enable(!1)):void 0!==n.attr("disabled")&&(n.removeAttr("disabled"),n.trigger("disabledchange")),n.parents("label").enable();var i=n.attr("id");if(i&&e("label[for='"+i+"']").enable(),!1!==t){for(var r=n;r.parent().length>0&&!r.parent().hasClass("form-row");)r=r.parent();var o=r.prev();o.hasClass("label")&&o.enable()}})},e.fn.disable=function(t){return this.each$(function(a,n){"disabled"in n[0]?(n.prop("disabled",!0),n.data("ff-replacement")&&n.data("ff-replacement").disable(!1)):void 0===n.attr("disabled")&&(n.attr("disabled",""),n.trigger("disabledchange")),n.parents("label").disable();var i=n.attr("id");if(i&&e("label[for='"+i+"']").disable(),!1!==t){for(var r=n;r.parent().length>0&&!r.parent().hasClass("form-row");)r=r.parent();var o=r.prev();o.hasClass("label")&&o.disable()}})},e.fn.toggleDisabled=function(e){return this.each$(function(t,a){a.disabled()?a.enable(e):a.disable(e)})},e.fn.firstChild=function(){var t=e();return this.each(function(e,a){t=t.add(a.firstElementChild)}),t},e.fn.parentWhere=function(t){var a=e();return this.each(function(e,n){var i=n;do{if(t(i,n)){a=a.add(i);break}i=i.parentElement}while(i)}),a},e.fn.actualCursor=function(){var e=this.css("cursor");return"auto"!==e||void 0===e?e:"default"},e.fontExists=function(t){for(var a=["A","j","l","Q","W","1","^","{","&","@"],n=["Courier","Times New Roman","Arial","Courier New","Roboto"],i=e("<span style='font-size: 100px; line-height: 100%; margin: 0; padding: 0; position: absolute; top: -1000px; left: -1000px;'/>").appendTo(e("body")),r=0;r<a.length;r++){for(var o="",s=0;s<7;s++)o+=a[r];i.text(o);for(var l=0;l<n.length;l++){i.css("font-family",n[l]);var d=i.width(),c=i.height();if(i.css("font-family",'"'+t+'","'+n[l]+'"'),i.width()!=d||i.height()!=c)return i.remove(),!0}}return i.remove(),!1},e.fn.pointer=function(a,n,i){var r,o,s,l,d,c,f,h=a,u=a.trim().split(/\s+/);if(u.length>1){var p=[],v=this;return u.forEach(function(t){p.push(e(v).pointer(t,n,i))}),function(){p.forEach(function(e){e()})}}if(i){if(this.length>1){var m=[];return this.each$(function(e,t){m.push(t.pointer(a,n,i))}),function(){m.forEach(function(e){e()})}}r=this[0].addEventListener.bind(this[0]),o=this[0].removeEventListener.bind(this[0])}else r=this.on.bind(this),o=this.off.bind(this),i=void 0;switch(a){case"down":h="start";break;case"up":h="end"}return(s="onpointer"+a in t)||(l="onmouse"+a in t,d="ontouch"+h in t),l&&(c=function(t){return function(t,a){var n=e.Event(a.type,a);return n.pointerId=-a.button,n.pointerType="mouse",t(n)}(n,t)}),d&&(f=function(t){return function(t,a){for(var n=0;n<a.changedTouches.length;n++){var i=e.Event(a.type,a);if(i.pageX=a.changedTouches[n].pageX,i.pageY=a.changedTouches[n].pageY,i.pointerId=a.changedTouches[n].identifier,i.button=0,i.pointerType="touch",!1===t(i))return!1}}(n,t)}),s&&r("pointer"+a,n,i),l&&r("mouse"+a,c,i),d&&r("touch"+h,f,i),function(){s&&o("pointer"+a,n,i),l&&o("mouse"+a,c,i),d&&o("touch"+h,f,i)}};var C="ff-draggable",k="reset-all-cursors",x={handle:void 0,cancel:void 0,axis:void 0,containment:void 0,stack:void 0,dragCursor:void 0,dragClass:void 0,grid:void 0,scroll:!1,catchElement:void 0};c("draggable",function(n){return this.each(function(i,r){var o=e(r);if(!o.hasClass(C)){var s,l,d,c,h,u,p;o.addClass(C);var v=f("draggable",x,o,{},n),m=e(t),g=v.handle?o.find(v.handle):o;v.handleElem=g,v.originalTouchAction=g.css("touch-action"),"x"===v.axis?g.css("touch-action","pan-y pinch-zoom"):"y"===v.axis?g.css("touch-action","pan-x pinch-zoom"):g.css("touch-action","pinch-zoom"),v.eventRemovers=[];var b=[];v.eventRemovers.push(g.pointer("down",function(e){if(0===e.button){if(e.stopImmediatePropagation(),s)return;l=!1,d={left:e.pageX,top:e.pageY},u=e.pointerId,h="touch"===e.pointerType?8:4,b.push(m.pointer("move",T,!0)),b.push(m.pointer("up cancel",D,!0))}})),v.cancel&&v.eventRemovers.push(o.find(v.cancel).pointer("down",function(e){e.preventDefault(),e.stopImmediatePropagation()})),v.catchElement&&v.eventRemovers.push(e(v.catchElement).pointer("down",function(e){if(0===e.button){if(e.stopImmediatePropagation(),s)return;l=!1,d={left:e.pageX,top:e.pageY},u=e.pointerId,b.push(m.pointer("move",T,!0)),b.push(m.pointer("up cancel",D,!0)),w(),s&&(c.top=d.top-c.height/2,c.left=d.left-c.width/2,y(e))}}))}function w(){c=o.rect();var t=e.Event("draggablestart");t.dragPoint=d,t.newPoint={left:event.pageX,top:event.pageY},o.trigger(t),t.isDefaultPrevented()?l=!0:(s=!0,v.dragClass&&o.addClass(v.dragClass),r.setCapture&&r.setCapture(),e("html").addClass(k),v.stack&&function(t,a){if(0!==(t=t.map(function(n,i){var r=parseInt(e(i).css("z-index"));return e.isNumeric(r)||(r=t.length),{elem:i,dragElem:i===a?1:0,index:n,zIndex:r}}).sort(function(e,t){return e.dragElem!==t.dragElem?e.dragElem-t.dragElem:e.zIndex!==t.zIndex?e.zIndex-t.zIndex:e.index-t.index})).length){var n=Math.max.apply(Math,t.toArray().map(function(e){return e.zIndex}));t.each(function(a,i){e(i.elem).css("z-index",n-(t.length-1)+a)})}}(e(v.stack),r),p=a.documentElement.style.getPropertyValue("cursor"),a.documentElement.style.setProperty("cursor",v.dragCursor||o.actualCursor(),"important"))}function y(a){var n={top:c.top+a.pageY-d.top,left:c.left+a.pageX-d.left};if(v.grid){var i=o.parent().offset();n={top:Math.round((n.top-i.top)/v.grid[1])*v.grid[1]+i.top,left:Math.round((n.left-i.left)/v.grid[0])*v.grid[0]+i.left}}if("x"===v.axis&&(n.top=c.top),"y"===v.axis&&(n.left=c.left),v.containment){var r=void 0,s=void 0;if("parent"===v.containment)r=o.parent();else if("viewport"===v.containment){var l=m.scrollTop(),f=m.scrollLeft();s={top:0+l,left:0+f,bottom:m.height()+l,right:m.width()+f}}else r=e(v.containment);if(r&&r.length>0&&(s=r.rect()),s){for(var h=v.grid?v.grid[0]:1,u=v.grid?v.grid[1]:1;n.left<s.left;)n.left+=h;for(;n.left+c.width>s.right;)n.left-=h;for(;n.top<s.top;)n.top+=u;for(;n.top+c.height>s.bottom;)n.top-=u}}var p=e.Event("draggablemove");p.elemRect=c,p.newPoint=n,o.trigger(p),p.isDefaultPrevented()||o.offset(p.newPoint),v.scroll&&function(a){var n=e(t),i=n.width()-1,r=n.height()-1,o=n.scrollTop(),s=n.scrollLeft();a.top<o&&n.scrollTop(a.top),a.bottom>o+r&&n.scrollTop(o+(a.bottom-(o+r))),a.left<s&&n.scrollLeft(a.left),a.right>s+i&&n.scrollLeft(s+(a.right-(s+i)))}(o.rect())}function T(e){e.pointerId!==u||l||(!d||s||o.disabled()||Math.sqrt(Math.pow(e.pageX-d.left,2)+Math.pow(e.pageY-d.top,2))>=h&&w(),s&&y(e))}function D(t){if(t.pointerId===u&&0===t.button){var n=s;if(d=void 0,s=!1,u=void 0,v.dragClass&&o.removeClass(v.dragClass),b.forEach(function(e){return e()}),b=[],n){r.releaseCapture&&r.releaseCapture(),e("html").removeClass(k),a.documentElement.style.setProperty("cursor",p);var i=e.Event("draggableend");i.revert=function(){o.offset(c)},o.trigger(i)}}}})},{remove:function(){return this.each(function(t,a){var n=e(a);if(n.hasClass(C)){n.removeClass(C);var i=h("draggable",n);i.handleElem.css("touch-action",i.originalTouchAction),i.eventRemovers.forEach(function(e){return e()})}})}}),e.fn.draggable.defaults=x;var T="ff-dropdown-container",D={placement:void 0,autoClose:!0,closeOnResize:!0,closeOnHide:!0,maxHeight:0,fixed:!1};c("dropdown",function(n,i){var r=this.first();if(0===r.length)return this;if(r.parent().hasClass(T)){var s=r.parent();if(!s.hasClass("closed"))return;r.appendTo("body"),s.remove()}var l=f("dropdown",D,r,{},i),d=!1;l.placement?"right"===l.placement&&(l.placement="bottom-right",d=!0):(l.placement="bottom-left",d=!0);var c=l.placement,h=e(t),u=h.width()-1,p=h.height()-1,v=h.scrollTop(),m=h.scrollLeft(),g=e(n).rect(),b=!1,w=!1,y=!1,C=e("<div/>").addClass(T).appendTo("body");l.fixed&&C.css("position","fixed"),r.hasClass("bordered")&&C.addClass("bordered"),e(a.body).hasClass("ff-dimmed")&&C.addClass("no-dim"),r.appendTo(C);var k=C.outerWidth(),x=C.outerHeight();l.maxHeight&&l.maxHeight<x&&(x=l.maxHeight,C.outerHeight(x),b=!0,k=C.outerWidth());var M=g.bottom,E=g.left,S="bottom";c.startsWith("top")?(M=g.top-x,S="top"):c.startsWith("bottom")?(M=g.bottom,S="bottom"):c.startsWith("left")?(E=g.left-k,S="left",w=!0):c.startsWith("right")&&(E=g.right,S="right"),c.endsWith("left")?E=g.left:c.endsWith("right")?(E=g.right-k,w=!0):c.endsWith("top")?M=g.top:c.endsWith("bottom")&&(M=g.bottom-x),"top-center"===c||"bottom-center"===c?(E=(g.left+g.right)/2-k/2,y=!0):"left-center"!==c&&"right-center"!==c||(M=(g.top+g.bottom)/2-x/2),d&&E+k>u&&(E=u-k),d&&M+x>p+v&&g.top-v>p+v-g.bottom&&(M=g.top-x,S="top");var L=void 0;if(x>(L="top"===S?g.top-v:"bottom"===S?p+v-g.bottom:p)&&(x=L,C.outerHeight(x),b=!0,"top"===S&&(M=g.top-x)),"left"===S||"right"===S?M+x>p+v?M=p+v-x:M<v&&(M=v):"top"!==S&&"bottom"!==S||(E+k>u+m?E=u+m-k:E<m&&(E=m)),b){var P=C[0].offsetWidth-C[0].clientWidth;P>0&&((k+=P)>u&&(k=u),C.outerWidth(k),w?E-=P:y&&(E-=P/2),E+k>u+m?E=u+m-k:E<m&&(E=m))}var A=r.children(".selected").first();if(A.length>0){var I=A.position().top;C.scrollTop(I+A.height()/2-x/2)}return C.offset({top:M,left:E}).addClass("animate-"+S),o(),C.addClass("open"),(void 0===l.autoClose||l.autoClose)&&(setTimeout(function(){e(a).on("click.dropdown-close",function(e){z()})},20),C.click(function(e){e.stopImmediatePropagation()})),(void 0===l.closeOnResize||l.closeOnResize)&&h.on("resize.dropdown",z),(void 0===l.closeOnHide||l.closeOnHide)&&e(a).on("visibilitychange.dropdown",function(){a.hidden&&z()}),this;function z(){var t=e.Event("dropdownclose");r.trigger(t),t.isDefaultPrevented()||r.dropdown.close(!0)}},{isOpen:function(){var e=this.first();return 0===e.length?this:e.parent().hasClass(T)},close:function(n){var i=this.first();if(0===i.length)return this;var r=i.parent();if(!r.hasClass(T))return this;if(e(a).off("click.dropdown-close"),r.removeClass("open").addClass("closed"),r.on("transitionend",function(){i.appendTo("body"),r.remove()}),!n){var o=e.Event("dropdownclose");i.trigger(o)}return e(t).off("resize.dropdown"),e(a).off("visibilitychange.dropdown"),this}}),e.fn.dropdown.defaults=D;var M="ff-input-wrapper",E="ff-repeat-button",S="ff-checkbox",L="ff-threestate",P="ff-textarea-wrapper";c("repeatButton",function(){return this.each$(function(e,t){var a,n;function i(){t.trigger("repeatclick"),a=setTimeout(i,n),n=50+Math.round(.8*(n-50))}t.hasClass(E)||(t.addClass(E),t.on("mousedown touchstart",function(e){e.preventDefault(),t.addClass("ff-active"),n=500,i()}),t.on("mouseup mouseleave touchend touchcancel",function(e){t.removeClass("ff-active"),a&&(clearTimeout(a),a=void 0),n=void 0}),t.click(function(e){e.preventDefault()}))})}),c("spinner",function(){return this.each$(function(t,a){if(!a.parent().hasClass(M)){var n=e("<div/>").addClass(M).attr("style",a.attr("style"));a.before(n).appendTo(n),a.attr("autocomplete","off");var i=[],r=e("<button type='button'/>").appendTo(n).attr("tabindex","-1").text("−");i.push(r),r.on("repeatclick",function(){if(!a.disabled()){var e=+a.val(),t=a.attr("min"),n=a.attr("max"),i=void 0!==t?+t:0,r=!!a.attr("step")&&a.attr("step").match(/^\s*\*(.*)/);if(r){var o=+r[1]||10;(void 0===t||e/o>=t)&&(void 0===n||e/o<=n)&&(e/=o)}else{void 0!==n&&e>+n&&(e=+n+1);var s=+a.attr("step")||1,l=s/1e3;for(e=(Math.ceil((e-i-l)/s)-1)*s+i,void 0!==t&&e<+t&&(e=+t);void 0!==n&&e>+n;)e-=s}var d=e.toFixed(10).replace(/0+$/,"").replace(/[.,]$/,"");a.val(d),a.trigger("input").change()}}),r.repeatButton();var o=e("<button type='button'/>").appendTo(n).attr("tabindex","-1").text("+");i.push(o),o.on("repeatclick",function(){if(!a.disabled()){var e=+a.val(),t=a.attr("min"),n=a.attr("max"),i=void 0!==t?+t:0,r=!!a.attr("step")&&a.attr("step").match(/^\s*\*(.*)/);if(r){var o=+r[1]||10;(void 0===t||e*o>=t)&&(void 0===n||e*o<=n)&&(e*=o)}else{void 0!==n&&e>+n&&(e=+n+1);var s=+a.attr("step")||1,l=s/1e3;for(e=(Math.floor((e-i+l)/s)+1)*s+i,void 0!==t&&e<+t&&(e=+t);void 0!==n&&e>+n;)e-=s}var d=+e.toFixed(10).replace(/0+$/,"").replace(/[.,]$/,"");a.val(d),a.trigger("input").change()}}),o.repeatButton(),l(a,i)}})}),c("colorPicker",function(){return this.each$(function(t,a){if(!a.parent().hasClass(M)){var n;a.attr("type","text").attr("autocapitalize","off").attr("autocomplete","off").attr("autocorrect","off").attr("spellcheck","false");var i=e("<div/>").addClass(M).attr("style",a.attr("style"));a.before(i).appendTo(i);var r=e("<div/>").addClass("dropdown bordered ff-colorpicker");r.keydown(function(e){e.keyCode>=37&&e.keyCode<=40&&(e.preventDefault(),r.find("button").first().focus(),r.removeAttr("tabindex")),27===e.keyCode&&(e.preventDefault(),r.dropdown.close(),s[0].focus())});var o=[],s=e("<button type='button'/>").addClass("ff-colorbutton").appendTo(i);o.push(s);var d=e("<div/>").appendTo(s).text("…");a.on("input change",function(){return h(n=a.val())}),h(n=a.val());var c,f=[0,4210752,7368816,10526880,13684944,15790320,16777215];[16711680,16744448,16760832,16769024,16776960,12648192,65280,65472,65535,49407,33023,255,8388863,12583167,16711935].forEach(function(e){var t=Color(e);[.75,.5,.25].forEach(function(e){return f.push(t.blendWith(0,e))}),f.push(t.toHTML()),[.5,.75,.875].forEach(function(e){return f.push(t.blendWith(16777215,e))})}),f.forEach(function(t,a){(t=Color(t)).format="HTML",a%7==0&&(c=e("<div/>").appendTo(r));var i=e("<button type='button'/>").css("background",t).data("color",String(t)).appendTo(c);t.isDark()&&i.addClass("dark"),i.click(function(e){h(n=t,!0),r.dropdown.close(),s[0].focus()}),i.focus(function(e){r.find("button.active").removeClass("active"),i.addClass("active"),h(t,!0)}),i.keydown(function(e){var t,a=r.find("button.active");switch(e.keyCode){case 37:t=a.prev();break;case 39:t=a.next();break;case 40:t=a.parent().next().children().eq(a.index());break;case 38:t=a.parent().prev().children().eq(a.index());break;case 27:h(n,!0),r.dropdown.close(),s[0].focus();break;case 13:i.click();break;default:return}e.preventDefault(),e.stopImmediatePropagation(),t&&t[0]&&t[0].focus()})}),s.click(function(e){var t,n=a.val();r.find("button").each$(function(e,a){var i=a.data("color")===n;a.toggleClass("active",i),i&&(t=a[0])}),r.dropdown(s,{placement:"right"}),t?t.focus():(r.attr("tabindex","-1"),r.focus())}),l(a,o)}function h(e,t){t&&a.val()!=e&&a.val(e).trigger("input").change(),d.css("background",e),d.css("color",Color(e).text())}})}),c("styleCheckbox",function(){return this.each$(function(t,a){a.hasClass(S)||a.is("input[type=checkbox], input[type=radio]")&&(0===a.parents("label").length&&a.wrap("<label class='empty'></label>"),a.addClass(S).after(e("<span/>")))})}),c("threeState",function(){return this.each$(function(e,t){if(!t.hasClass(L)&&t.is("input[type=checkbox]")){t.addClass(L);var a=t[0];t.click(function(e){a.checked&&!a.readOnly?(a.checked=!1,a.readOnly=a.indeterminate=!0):a.readOnly&&(a.checked=!0,a.readOnly=!1)})}})}),c("autoHeight",function(t,a,n){return t=t||3,this.each$(function(i,r){if(!r.parent().hasClass(P)){var o=e("<div/>").addClass(P).attr("style",r.attr("style"));r.before(o).appendTo(o);var s=e("<div/>").appendTo(o),l=r.outerHeight()-r.height(),d=parseFloat(r.css("line-height"));d&&(s.css("min-height",t*d+l),a&&s.css("max-height",a*d+l)),r.on("input.autoheight",c),c()}function c(){var e=r.val().replace(/\n$/,"\n.");n&&(e+="\n.".repeat(n)),s.text(e),["border-bottom-style","border-bottom-width","border-left-style","border-left-width","border-right-style","border-right-width","border-top-style","border-top-width","font-family","font-feature-settings","font-kerning","font-size","font-stretch","font-style","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","hyphens","letter-spacing","line-height","padding-bottom","padding-left","padding-right","padding-top","text-transform","word-break","word-spacing"].forEach(f)}function f(e){s.css(e,r.css(e))}})}),c("menu",function(){return this.each$(function(e,t){var a=t.hasClass("vertical");t.children("li").has("ul").each$(function(e,t){t.addClass("ff-has-submenu");var n=t.children("ul").first();n.hasClass("ff-submenu")||(n.addClass("ff-submenu dropdown"),t.closest("nav").length>0&&n.addClass("nav"),t.children("a").first().click(function(e){if(e.preventDefault(),!t.disabled()){var i={};a&&(i.placement="right-top"),n.dropdown(t,i),t.addClass("open"),n.one("dropdownclose",function(){t.removeClass("open")})}}),n.children("li").each$(function(e,t){"-"===t.text()&&(t.text(""),t.addClass("separator"))}),n.find("li > a:not(.stay-open)").each$(function(e,t){t.click(function(){n.dropdown.close()})}))}),t.find("li > a[href='#']").attr("href","javascript:")})});var A="ff-message-close-button";c("closableMessage",function(){return this.each$(function(t,a){if(0===a.find("."+A).length){var n=e("<a/>").addClass(A).attr("href","#").appendTo(a);a.addClass("closable"),n.click(function(e){e.preventDefault(),0===e.button&&a.closableMessage.close()})}})},{close:function(){return this.each$(function(e,t){t.addClass("ff-closed"),t.on("transitionend",function(){t.remove()})})}});var I="ff-background-dimmer",z="ff-dimming",$="ff-dimmed",O=0;function N(t){if(O++,0===e("body > div."+I+":not(.closing)").length){0===e("body > div."+I).length&&e("body").trigger("dim"),e("body").addClass(z).addClass($);var a=e("<div/>").addClass(I).appendTo("body");t&&a.addClass("noinput"),o(),a.css("opacity","1")}}function W(){var t=e("body > div."+I);if(0!==t.length){if(--O>0)return!1;var a=e("body");return a.removeClass($),t.addClass("closing").css("opacity","0"),t.on("transitionend",function(){a.hasClass($)||(a.removeClass(z),e("body").trigger("undim")),t.remove()}),!0}}var R=".ff-modal",H="ff-modal-container",F="ff-modal-close-button",_=0,q={cancellable:!0,closeTooltip:"",dimBackground:!0};c("modal",function(t){var n=this.first();if(0===n.length)return this;if(n.parent().hasClass(H))return this;_++;var i=f("modal",q,n,{},t);i.level=_,i.dimBackground&&1===_&&N();var r,o=e("<div/>").addClass(H).appendTo("body");return n.appendTo(o),n.find(":focusable").first().focus().blur(),1===_&&d(),e(a).on("focusin"+R+"-"+i.level,function(t){if(i.level===_&&0===e(t.target).parents().filter(n).length)return n.find(":focusable").first().focus(),t.preventDefault(),t.stopImmediatePropagation(),!1}),i.cancellable&&(e(a).on("keydown"+R+"-"+i.level,function(e){27===e.keyCode&&_===i.level&&(e.preventDefault(),n.modal.close())}),o.click(function(e){0===e.button&&e.target===this&&n.modal.close()}),r=e("<a/>").addClass(F).attr("href","#").appendTo(n),i.closeTooltip&&(r[0].title=i.closeTooltip),r.click(function(e){e.preventDefault(),0===e.button&&n.modal.close()})),this},{close:function(){var t=this.first();if(0===t.length)return this;var n=t.parent();if(!n.hasClass(H))return this;_--;var i=h("modal",t),r=t.find("."+F).first();_||d(!1),e(a).off("focusin"+R+"-"+i.level),e(a).off("keydown"+R+"-"+i.level),t.appendTo("body"),n.remove(),r&&r.remove(),i.dimBackground&&!_&&W();var o=e.Event("close");return t.trigger(o),this}}),e.fn.modal.defaults=q,e.modal=function(t){"string"==typeof t&&(t={text:t,buttons:"OK"});var a=e("<div/>").addClass("modal"),n=e("<div/>").css("overflow","auto").css("max-height","calc(100vh - 80px - 5em)").appendTo(a);t.content?n.append(t.content):t.html?n.html(t.html):t.text&&n.text(t.text).css("white-space","pre-wrap");var i=t.buttons;if("string"==typeof i)switch(i){case"OK":i=[{text:"OK",className:"default",result:!0}];break;case"OK cancel":i=[{text:"OK",className:"default",result:!0},{text:"Cancel",className:"transparent",result:!1}];break;case"YES no":i=[{text:"Yes",className:"default",result:!0},{text:"No",result:!1}];break;case"yes NO":i=[{text:"Yes",result:!0},{text:"No",className:"default",result:!1}];break;default:i=[]}var r=void 0,o=!1;i&&i.length>0&&(r=e("<div/>").addClass("buttons").appendTo(a),i.forEach(function(n){var i=e("<button/>").addClass(n.className).appendTo(r);n.icon&&i.append(e("<i/>").addClass(n.icon)),n.icon&&n.text&&i.append(" "),n.text&&i.append(n.text),i.click(function(e){o=!0,a.modal.close(),t.resultHandler&&t.resultHandler(n.result)})})),a.modal(t),r&&r.find("button").first().focus(),t.resultHandler&&a.on("close",function(){o||t.resultHandler()})};var K=".ff-off-canvas",B="ff-off-canvas",j={cancellable:!0,edge:"left",push:1};c("offCanvas",function(n){var i=this.first();if(0===i.length)return this;if(i.hasClass(B))return this;var r=f("offCanvas",j,i,{},n);i.addClass(B),i.detach().appendTo("body"),-1===["left","right"].indexOf(r.edge)&&(r.edge="left"),"left"===r.edge?r._opposite="right":"right"===r.edge&&(r._opposite="left");var s=e("html"),l=i.outerWidth();return r._htmlStyle={transition:s.css("transition"),overflowX:s.css("overflow-x")},e(t).on("resize"+K,function(){i.offCanvas.close()}),i.css(r.edge,-l),i.css(r._opposite,""),o(),i.css("transition",r.edge+" 0.4s"),s.css("transition","margin 0.4s"),s.css("overflow-x","hidden"),i.css(r.edge,0),s.css("margin-"+r.edge,l*r.push),s.css("margin-"+r._opposite,-l*r.push),N(!0),i.find(":focusable").first().focus().blur(),d(),e(a).on("focusin"+K,function(t){if(0===e(t.target).parents().filter(i).length)return i.find(":focusable").first().focus(),t.preventDefault(),t.stopImmediatePropagation(),!1}),r.cancellable&&(e(a).on("keydown"+K,function(e){27===e.keyCode&&(e.preventDefault(),i.offCanvas.close())}),setTimeout(function(){e(a).on("click"+K,function(e){0===e.button&&i.offCanvas.close()})},20),i.on("click"+K,function(e){e.stopImmediatePropagation()})),i.trigger("offcanvasopen"),this},{close:function(){var n=this.first();if(0===n.length)return this;if(!n.hasClass(B))return this;var i=h("offCanvas",n),r=e("html"),o=n.outerWidth();return n.css(i.edge,-o),r.css("margin-"+i.edge,0),r.css("margin-"+i._opposite,0),d(!1),e(a).off("focusin"+K),e(a).off("keydown"+K),e(a).off("click"+K),e(t).off("resize"+K),n.off("click"+K),W(),n.one("transitionend",function(){n.removeClass(B),r.css(i._htmlStyle)}),n.trigger("offcanvasclose"),this}}),e.fn.offCanvas.defaults=j;var Y="ff-progressbar",V={min:0,max:100,value:0,valuePrefix:"",valueSuffix:""};c("progressbar",function(t){return this.each$(function(a,i){if(!i.hasClass(Y)){i.addClass(Y);var r=f("progressbar",V,i,{},t);r._setValue=l;var o=e("<div/>").addClass("ff-bar").appendTo(i),s=e("<span/>").appendTo(o);l(r.value)}function l(e){var t=((e=n(e,r.min,r.max))-r.min)/(r.max-r.min);o.css("width",100*t+"%"),s.text(r.valuePrefix+e+r.valueSuffix),s.toggleClass("outside",s.width()+8>t*i.width()),e!==r.value&&(r.value=e,i.trigger("valuechange"))}})},{value:function(e){if(void 0===e){var t=this.first();if(0===t.length)return;return h("progressbar",t).value}return this.each$(function(t,a){h("progressbar",a)._setValue(e)})},valuePrefix:function(e){if(void 0===e){var t=this.first();if(0===t.length)return;return h("progressbar",t).valuePrefix}return this.each$(function(t,a){var n=h("progressbar",a);n.valuePrefix=e,n._setValue(n.value)})},valueSuffix:function(e){if(void 0===e){var t=this.first();if(0===t.length)return;return h("progressbar",t).valueSuffix}return this.each$(function(t,a){var n=h("progressbar",a);n.valueSuffix=e,n._setValue(n.value)})}}),e.fn.progressbar.defaults=V;var Z="ff-resizable",X={aspectRatio:void 0,handles:void 0,handleWidth:10,containment:void 0,grid:void 0,minWidth:void 0,minHeight:void 0,maxWidth:void 0,maxHeight:void 0,scroll:!1};c("resizable",function(n){return this.each$(function(i,r){if(!r.hasClass(Z)){var o;r.addClass(Z);var l=e(),d=f("resizable",X,r,{},n),c=e(t),h=d.aspectRatio;!0!==h&&"true"!==h||(h=r.outerWidth()/r.outerHeight()),e.isNumeric(h)&&(h=parseFloat(h)),0!==h&&isFinite(h)&&e.isNumber(h)||(h=void 0),"static"===r.css("position")&&(d.wasPositionStatic=!0,r.css("position","relative"));var u=d.handles;if(void 0===u&&(u="all"),"all"===u&&(u="n,ne,e,se,s,sw,w,nw"),e.isString(u)&&(u=u.replace(/\s/g,"").toLowerCase().split(",")),d.handles=u,"box"===d.handleAddClass)-1!==u.indexOf("n")&&v({left:"calc(50% - 4px)",top:-9},"ns-resize",!0,!0),-1!==u.indexOf("e")&&v({right:-9,top:"calc(50% - 4px)"},"ew-resize",!1,!1),-1!==u.indexOf("s")&&v({left:"calc(50% - 4px)",bottom:-9},"ns-resize",!0,!1),-1!==u.indexOf("w")&&v({left:-9,top:"calc(50% - 4px)"},"ew-resize",!1,!0),-1!==u.indexOf("ne")&&v({top:-9,right:-9},"nesw-resize",!1,!1,!0,!0),-1!==u.indexOf("se")&&v({bottom:-9,right:-9},"nwse-resize",!1,!1,!0,!1),-1!==u.indexOf("sw")&&v({bottom:-9,left:-9},"nesw-resize",!1,!0,!0,!1),-1!==u.indexOf("nw")&&v({top:-9,left:-9},"nwse-resize",!1,!0,!0,!0);else{var p=d.handleWidth;-1!==u.indexOf("n")&&v({left:p/2,right:p/2,top:-p/2,height:p},"ns-resize",!0,!0),-1!==u.indexOf("e")&&v({top:p/2,bottom:p/2,right:-p/2,width:p},"ew-resize",!1,!1),-1!==u.indexOf("s")&&v({left:p/2,right:p/2,bottom:-p/2,height:p},"ns-resize",!0,!1),-1!==u.indexOf("w")&&v({top:p/2,bottom:p/2,left:-p/2,width:p},"ew-resize",!1,!0),-1!==u.indexOf("ne")&&v({right:-p/2,top:-p/2,width:p,height:p},"nesw-resize",!1,!1,!0,!0),-1!==u.indexOf("se")&&v({right:-p/2,bottom:-p/2,width:p,height:p},"nwse-resize",!1,!1,!0,!1),-1!==u.indexOf("sw")&&v({left:-p/2,bottom:-p/2,width:p,height:p},"nesw-resize",!1,!0,!0,!1),-1!==u.indexOf("nw")&&v({left:-p/2,top:-p/2,width:p,height:p},"nwse-resize",!1,!0,!0,!0)}s(),r.on("disabledchange.resizable",function(){l.visible(!r.disabled())})}function v(t,n,i,s,c,f){var h=e("<div/>").addClass("ff-resizable-handle "+d.handleAddClass).css(t).css("position","absolute").css("cursor",n);return r.append(h),l=l.add(h),h.draggable({scroll:d.scroll}),h.on("draggablestart",function(t){t.stopPropagation();var l=e.Event("resizablestart");l.vertical=i,l.negative=s,l.edge=i?s?"top":"bottom":s?"left":"right",r.trigger(l),l.isDefaultPrevented()?t.preventDefault():(o=a.documentElement.style.getPropertyValue("cursor"),a.documentElement.style.setProperty("cursor",n,"important"))}),h.on("draggablemove",function(e){e.stopPropagation(),e.preventDefault(),m(h,e.newPoint,i,s),void 0!==c&&m(h,e.newPoint,c,f)}),h.on("draggableend",function(t){t.stopPropagation(),a.documentElement.style.setProperty("cursor",o);var n=e.Event("resizableend");n.vertical=i,n.negative=s,n.edge=i?s?"top":"bottom":s?"left":"right",r.trigger(n)}),h}function m(t,a,n,i){var o=n?"top":"left",s=n?"Height":"Width",l=s.toLowerCase(),f=a[o]-t.offset()[o];i&&(f=-f);var h=r.offset(),u=d.grid?d.grid[n?1:0]:1;if(d.grid){var p=r.parent().offset();if(i)f=h[o]-(Math.round((h[o]-f-p[o])/u)*u+p[o]);else{var v=r["outer"+s]();f=Math.round((h[o]+v+f-p[o])/u)*u+p[o]-(h[o]+v)}}for(var m=r["outer"+s]()+f,g=Math.max(r["outer"+s]()-r[l](),d["min"+s]||0);m<g;)f+=u,m+=u;for(var b=d["max"+s];b&&m>b;)f-=u,m-=u;if(i&&(h[o]-=f),d.containment){var w=void 0,y=void 0;if("parent"===d.containment?w=r.parent():"viewport"===d.containment?y={top:0+c.scrollTop(),left:0+c.scrollLeft(),height:c.height(),width:c.width()}:w=e(d.containment),w&&w.length>0&&(y=w.rect()),y)if(i)for(;h[o]<y[o];)h[o]+=u,f-=u,m-=u;else for(;h[o]+m>y[o]+y[l];)f-=u,m-=u}var C=e.Event("resizing");C.vertical=n,C.negative=i,C.edge=n?i?"top":"bottom":i?"left":"right",C.newLength=m,C.newPosition=h[o],r.trigger(C),C.isDefaultPrevented()||(r["outer"+s](C.newLength),h[o]=C.newPosition,i&&r.offset(h))}})},{remove:function(){return this.each$(function(e,t){t.hasClass(Z)&&(t.removeClass(Z),h("resizable",t).wasPositionStatic&&t.css("position","static"),t.find(".ff-resizable-handle").remove(),t.off("disabledchange.resizable"))})}}),e.fn.resizable.defaults=X;var G="ff-selectable",U={multiple:!1,toggle:!1,allowEmpty:!0,separator:", "};c("selectable",function(t){return this.each$(function(a,n){if(!n.hasClass(G)){n.addClass(G);var i=f("selectable",U,n,{},t);i._prepareChild=g,i._selectAll=k,i._selectNone=x,i._selectItem=function(e){n.children().removeClass("selected"),e.addClass("selected"),n.trigger("selectionchange"),r&&b()};var r="SELECT"===n[0].nodeName,o=r&&!n.attr("size"),s=void 0,l=void 0,d=void 0,c=void 0;if(r){s=n;var h=n.attr("style");s.hide(),i.multiple|=void 0!==s.attr("multiple");var u=e("<div/>").addClass(G).insertAfter(s);if(n=u,s.data("ff-replacement",u),w(),o){(l=e("<div/>").addClass("ff-selectable-button").attr("tabindex",0).insertAfter(s)).attr("style",h),u.addClass("no-border dropdown bordered"),s.data("ff-replacement",l),y(),l.click(function(){if(!l.disabled()){l.addClass("open");var t=l.parentWhere(function(t){return"fixed"===e(t).css("position")}).length>0;u.dropdown(l,{fixed:t}),l.closest(".dark").length>0&&u.parent().addClass("dark"),u.parent(".ff-dropdown-container").css("min-width",l.outerWidth())}}),u.on("dropdownclose",function(){l.removeClass("open")}),l.on("keydown",function(e){if(!l.disabled())switch(e.originalEvent.keyCode){case 13:case 32:e.preventDefault(),l.click();break;case 35:e.preventDefault(),C(n.children().length,!!e.originalEvent.shiftKey&&i.multiple);break;case 36:e.preventDefault(),C(-n.children().length,!!e.originalEvent.shiftKey&&i.multiple);break;case 38:e.preventDefault(),C(-1,!!e.originalEvent.shiftKey&&i.multiple);break;case 40:e.preventDefault(),C(1,!!e.originalEvent.shiftKey&&i.multiple);break;case 65:e.originalEvent.ctrlKey&&!e.originalEvent.shiftKey&&(e.preventDefault(),k());break;case 68:e.originalEvent.ctrlKey&&!e.originalEvent.shiftKey&&(e.preventDefault(),x())}});var p=function(){l.disabled()?l.attr("tabindex",null):l.attr("tabindex",0)};l.on("disabledchange",p),p(),l.on("blur",function(){l.hasClass("open")&&!c&&(c=setTimeout(function(){u.dropdown.close(),c=void 0},50))}),l.on("focus",function(){c&&(clearTimeout(c),c=void 0)})}s.disabled()&&(o?l.disable():u.disable()),s.hasClass("wrap")&&(o?l.addClass("wrap"):u.addClass("wrap")),s.change(function(){d||(w(),n.children().each(g),0===(m=n.children(".selected").first()).length&&(m=n.children(":not(.disabled)").first())),o&&y()})}n.attr("tabindex",0),n.children().each(g);var v,m=n.children(".selected").first();0===m.length&&(m=n.children(":not(.disabled)").first()),n.on("keydown",function(e){if(!n.disabled())switch(e.originalEvent.keyCode){case 35:e.preventDefault(),C(n.children().length,!!e.originalEvent.shiftKey&&i.multiple);break;case 36:e.preventDefault(),C(-n.children().length,!!e.originalEvent.shiftKey&&i.multiple);break;case 38:e.preventDefault(),C(-1,!!e.originalEvent.shiftKey&&i.multiple);break;case 40:e.preventDefault(),C(1,!!e.originalEvent.shiftKey&&i.multiple);break;case 65:e.originalEvent.ctrlKey&&!e.originalEvent.shiftKey&&(e.preventDefault(),k());break;case 68:e.originalEvent.ctrlKey&&!e.originalEvent.shiftKey&&(e.preventDefault(),x())}})}function g(){var t=e(this);if(!t.hasClass("disabled")){var a=!1;t.on("mousedown",function(e){0===e.originalEvent.button?(a=!0,setTimeout(function(){o?l.focus():n.focus()},0)):a=!1}),t.on("mouseup",function(e){if(a){a=!1,o?l.focus():n.focus();var s=!!e.originalEvent.ctrlKey,d=!!e.originalEvent.shiftKey;i.multiple||(s=d=!1),i.toggle&&(s=!0);var c=!1;if(s)t.toggleClass("selected"),i.allowEmpty||0!==n.children(".selected").length?c=!0:t.addClass("selected"),m=t;else if(d){var f=m.index(),h=t.index(),u=Math.min(f,h),p=Math.max(f,h);n.children().removeClass("selected");for(var g=u;g<=p;g++){var w=n.children().eq(g);w.hasClass("disabled")||w.addClass("selected")}c=!0}else t.hasClass("selected")||(n.children().removeClass("selected"),t.addClass("selected"),c=!0),m=t;v=t,c&&n.trigger("selectionchange"),r&&(b(),o&&(y(),i.multiple||i.toggle||n.dropdown.close()))}}),o&&i.multiple&&!i.toggle&&t.on("dblclick",function(e){var t=!!e.originalEvent.ctrlKey,a=!!e.originalEvent.shiftKey;t||a||n.dropdown.close()})}}function b(){var e=[];n.children().each$(function(t,a){a.hasClass("selected")&&e.push(a.data("value"))}),d=!0,s.children("option").each$(function(t,a){var n=-1!==e.indexOf(a.prop("value"));a.prop("selected",n)}),s.change(),d=!1}function w(){n.children().remove(),s.children("option").each$(function(t,a){var i=e("<div/>").text(a.text()).data("value",a.prop("value")).appendTo(n);a.data("html")&&i.html(a.data("html")),a.data("summary")&&i.data("summary",a.data("summary")),a.data("summary-html")&&i.data("summary-html",a.data("summary-html")),a.prop("selected")&&i.addClass("selected"),a.prop("disabled")&&i.addClass("disabled")})}function y(){var e="";n.children(".selected").each$(function(t,a){e&&(e+=i.separator);var n=a.data("summary"),r=a.data("summary-html");e+=r||(n?n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):a.html())}),e?l.html("<span>"+e+"</span>"):l.html("&nbsp;")}function C(e,t){var a=n.children(),i=a.length;if(i>0&&0!==e){var o=v?v.index():m.index();if(-1===e||1===e){if(m.hasClass("selected"))do{if((o+=e)<0||o>=i)return}while(a.eq(o).hasClass("disabled"))}else e<0?o=n.children(":not(.disabled)").first().index():e>0&&(o=n.children(":not(.disabled)").last().index());if(-1===o)return;if(a.removeClass("selected"),t){for(var s=m.index(),l=Math.min(s,o),d=Math.max(s,o),c=l;c<=d;c++){var f=a.eq(c);f.hasClass("disabled")||f.addClass("selected")}v=a.eq(o)}else(m=a.eq(o)).addClass("selected"),v=m;r&&b()}}function k(){(i.multiple||i.toggle)&&(n.children(":not(.disabled)").addClass("selected"),r&&b())}function x(){i.allowEmpty&&(n.children().removeClass("selected"),r&&b())}})},{addChild:function(t){h("selectable",e(this))._prepareChild.call(t)},removeChild:function(t){var a=e(this);t.hasClass("selected")&&a.trigger("selectionchange")},getSelection:function(){return e(this).children(".selected")},selectAll:function(){h("selectable",e(this))._selectAll()},selectNone:function(){h("selectable",e(this))._selectNone()},selectItem:function(t){h("selectable",e(this))._selectItem(t)}}),e.fn.selectable.defaults=U;var Q="ff-range",J="ff-ticks",ee="ff-handle",te="reset-all-cursors",ae={orientation:"h",value:0,values:null,min:0,max:100,rangeBase:0,largeStep:10,smallStep:1,largeTicks:!0,smallTicks:!1,largeTickLabels:!0,smallTickLabels:!1,tickPlacement:"topleft",handleCount:1,handleInteractionMode:"locked",rangeOverflowEqual:!1,ranges:null,logarithmic:!1,dragCursor:void 0};c("slider",function(r){return this.each$(function(o,l){if(0===l.children("div."+ee).length){var d,c,h,u,p=f("slider",ae,l,{},r),v=[],m=[],g=0,b="v"===p.orientation;p._setValue=F,p.values||(p.values=[p.value]),p.max<p.min&&(p.max=p.min),p.handleCount<1&&(p.handleCount=1);for(var w=[],y=0;y<Math.max(1,p.ranges&&p.ranges.length);y++)w[2*y]=e("<div/>").addClass(Q).appendTo(l),w[2*y+1]=e("<div/>").addClass(Q).appendTo(l);p.ranges&&p.ranges.forEach(function(e,t){e.color&&(w[2*t].css("background",e.color),w[2*t+1].css("background",e.color)),e.className&&(w[2*t].addClass(e.className),w[2*t+1].addClass(e.className))});for(var C=e("<div/>").addClass(J).appendTo(l),k=[],x=e(),T=0;T<p.handleCount;T++)k[T]=e("<div/>").addClass(ee).appendTo(l),x=x.add(k[T]);var D=-Math.floor(Math.log10(p.smallStep)),M=p.rangeBase;"min"===M&&(M=p.min),"max"===M&&(M=p.max),M=n(M,p.min,p.max);var E,S,L,P=Math.round((M-p.min)/(p.max-p.min)*1e4)/100;b?(E="bottom",S="top",l.addClass("vertical"),h=(l.outerHeight()-l.innerHeight())/2,L=k[0].outerHeight()):(E="left",S="right",l.removeClass("vertical"),h=(l.outerWidth()-l.innerWidth())/2,L=k[0].outerWidth());for(var A=0;A<p.handleCount;A++)K(A),F(A,p.values[A]);if(p.smallTicks||p.largeTicks)for(var I=Math.ceil(p.min/p.smallStep)*p.smallStep;I<=p.max;I+=p.smallStep){var z=(I=i(I,D))/p.largeStep===Math.trunc(I/p.largeStep);if(z||p.smallTicks){var $=Math.round((I-p.min)/(p.max-p.min)*1e4)/100,O=e();"both"!==p.tickPlacement&&"topleft"!==p.tickPlacement||(O=O.add(e("<div/>").css(E,$+"%").appendTo(C))),"both"!==p.tickPlacement&&"bottomright"!==p.tickPlacement||(O=O.add(e("<div/>").addClass("opposite").css(E,$+"%").appendTo(C))),z&&O.addClass("large"),(p.smallTickLabels||p.largeTickLabels&&z)&&O.attr("data-label",I)}}l.css("touch-action","none");var N=[];x.pointer("down",function(t){t.preventDefault();var a=e(t.target).closest("."+ee),n=e.inArray(a[0],x);-1!==n?(v[n]=b?k[n].offset().top+k[n].outerHeight()-t.pageY:t.pageX-k[n].offset().left,c=k[n].actualCursor()):console.warn("Clicked handle not found")}),l.pointer("down",function(n){if(!l.disabled()&&0===n.button){n.preventDefault(),n.stopImmediatePropagation(),l.focus();var i=!0;m.forEach(function(e){void 0!==e&&(i=!1)}),i&&l.trigger("firstdragstart");var r=e(n.target).closest("."+ee),o=e.inArray(r[0],x);if(-1===o){var s=H(n),f=1/0;p.values.forEach(function(e,t){var a=Math.abs(e-s);(a<f||s>e&&a<=f)&&(f=a,o=t)})}m[o]=n.pointerId,g=o,k[o].addClass("pressed"),W(n),i&&(l.setCapture&&l.setCapture(),e("html").addClass(te),d=a.documentElement.style.getPropertyValue("cursor"),a.documentElement.style.setProperty("cursor",p.dragCursor||c||l.actualCursor(),"important"),N.push(e(t).pointer("move",W,!0)),N.push(e(t).pointer("up cancel",R,!0)))}}),void 0===(u=l.attr("tabindex"))&&(u="0",l.attr("tabindex",u)),s(),l.on("disabledchange",function(){l.disabled()?l.removeAttr("tabindex"):l.attr("tabindex",u)}),l.keydown(function(e){l.disabled()||(40!==e.keyCode&&37!==e.keyCode||(e.preventDefault(),F(g,p.values[g]-(e.shiftKey?p.largeStep:p.smallStep))),38!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),F(g,p.values[g]+(e.shiftKey?p.largeStep:p.smallStep))),36===e.keyCode&&(e.preventDefault(),F(g,p.min)),35===e.keyCode&&(e.preventDefault(),F(g,p.max)))})}function W(e){var t=m.indexOf(e.pointerId);if(-1!==t){var a=H(e);if(p.handleCount>1)switch(p.handleInteractionMode){case"locked":t>0&&a<p.values[t-1]&&(a=p.values[t-1]),t<p.handleCount-1&&a>p.values[t+1]&&(a=p.values[t+1]);break;case"push":for(var n=t-1;n>=0;n--)a<p.values[n]&&F(n,a);for(var i=t+1;i<p.handleCount;i++)a>p.values[i]&&F(i,a)}F(t,a)}}function R(t){var n=m.indexOf(t.pointerId);if(-1!==n&&0===t.button){m[n]=void 0,k[n].removeClass("pressed"),K(n);var i=!0;m.forEach(function(e){void 0!==e&&(i=!1)}),i&&(l.releaseCapture&&l.releaseCapture(),e("html").removeClass(te),a.documentElement.style.setProperty("cursor",d),N.forEach(function(e){e()}),N=[],l.trigger("lastdragend"))}}function H(e){var t=m.indexOf(e.pointerId),a=L/2;-1!==t&&(a=v[t]);var n,i,r=l.rect();return b?(n=r.bottom-h-e.pageY,i=l.innerHeight()):(n=e.pageX-r.left-h,i=l.innerWidth()),(n-a+L/2)/i*(p.max-p.min)+p.min}function F(e,t){t=n(t,p.min,p.max),function(e,t){var a=q(t);if(k[e].css(E,"calc("+a+"% - "+L/2+"px)"),p.ranges)p.ranges.forEach(function(a,n){var i,r=a.start;"min"===r?r=p.min:"max"===r?r=p.max:"#"===r[0]&&(i=Number(r.substr(1)),r=i===e?t:p.values[i]);var o,s=a.end;"min"===s?s=p.min:"max"===s?s=p.max:"#"===s[0]&&(o=Number(s.substr(1)),s=o===e?t:p.values[o]);var l=q(r),d=q(s),c=a.overflowEqual||void 0!==i&&void 0!==o&&o<i;_(n,l,d,c)});else if(1===p.handleCount)a<P?_(0,a,P):_(0,P,a);else if(2===p.handleCount){var n=0===e?a:q(p.values[0]),i=1===e?a:q(p.values[1]);_(0,n,i,p.rangeOverflowEqual)}}(e,t=i(t=Math.round(t/p.smallStep)*p.smallStep,D)),t!==p.values[e]&&(p.values[e]=t,l.trigger("valuechange"))}function _(e,t,a,n){t<a||t===a&&!n?(w[2*e].css(E,t+"%"),w[2*e].css(S,100-a+"%"),w[2*e+1].css(E,"0%"),w[2*e+1].css(S,"100%")):(w[2*e].css(E,"0%"),w[2*e].css(S,100-a+"%"),w[2*e+1].css(E,t+"%"),w[2*e+1].css(S,"0%"))}function q(e){return Math.round((e-p.min)/(p.max-p.min)*1e4)/100}function K(e){v[e]=L/2}})},{value:function(e){return this.slider.multivalue(0,e)},multivalue:function(e,t){if(void 0===t){var a=this.first();if(0===a.length)return;return h("slider",a).values[e]}return this.each$(function(a,n){h("slider",n)._setValue(e,t)})}}),e.fn.slider.defaults=ae;var ne="ff-sortable",ie="ff-sortable-placeholder",re={handle:void 0,cancel:void 0,axis:void 0,containment:void 0,stack:void 0,dragCursor:void 0,dragClass:void 0,scroll:!1};c("sortable",function(t){return this.each$(function(n,r){if(!r.hasClass(ne)){r.addClass(ne);var o=f("sortable",re,r,{},t);o._prepareChild=p,r.contents().filter(function(){return 3===this.nodeType}).remove();var s,l=(s=r.firstChild().css("display"),-1!==["block","flex","grid","list-item","table","table-footer-group","table-header-group","table-row","table-row-group"].indexOf(s)),d=l?"top":"left",c=l?"bottom":"right",h=l?"left":"top",u=l?"right":"bottom";r.children().each(p)}function p(){var t,n,s,l,f,p=e(this),m=o.stack;function g(){l=[];var n,i,o,s=[],f=null;function m(){var e=(n+i)/2;l.push({p1:v(-1e4,e),p2:v(a(s[0].rect)[d],e),after:l.length>0?l[l.length-1].after:null}),s.forEach(function(t,n){l.push({p1:v(a(t.rect)[d],e),p2:v(n<s.length-1?a(s[n+1].rect)[d]:1e4,e),after:t.elem})}),n=i=o=void 0,s=[]}r.children().each(function(a,r){if(r!==p[0]){var l=e(r).rect();l[d]+.1<o&&m(),(void 0===n||l[h]<n)&&(n=l[h]),(void 0===i||l[u]<i)&&(i=l[u]),o=l[c],r!==t[0]&&(f=r),s.push({elem:f,rect:l})}}),m()}!0===m&&(m=r.children()),p.draggable({handle:o.handle,cancel:o.cancel,axis:o.axis,containment:o.containment,stack:m,dragCursor:o.dragCursor,dragClass:o.dragClass,scroll:o.scroll}),p.on("draggablestart",function(a){a.stopImmediatePropagation();var i=e.Event("sortablestart");if(p.trigger(i),i.isDefaultPrevented())a.preventDefault();else{0===(n=p.prev()).length&&(n=null),f=p.index();var r=p.rect();if("TR"===p[0].nodeName&&(p.closest("table").find("tr").first().children("td, th").each$(function(e,t){t.data("width-before-drag",t[0].style.width||""),t.css("width",t.outerWidth())}),p.children("td, th").each$(function(e,t){t.css("width",t.outerWidth())}),p.css("min-width",p.outerWidth()+1)),t=e("<"+p[0].nodeName+"/>").addClass(p[0].className).addClass(ie).text(" ").css({width:r.width,height:r.height}),"TR"===p[0].nodeName){var o=p.children("td, th").map(function(t){return e(t).attr("colspan")||1}).get().reduce(function(e,t){return e+t});t.append(e("<td/>").attr("colspan",o))}p.after(t),p.css({position:"absolute",width:r.width,height:r.height}),g()}}),p.on("draggablemove",function(n){n.stopImmediatePropagation();var o=e.Event("sortablemove");if(p.trigger(o),o.isDefaultPrevented())n.preventDefault();else{var f=p.rect(),h=a(f);h[d]=f[d];var u=a(f);u[d]=f[c];var v,m,b,w=1/0,y=1/0;if(l.forEach(function(e){var t=i(h,e.p1,e.p2);t<w&&(w=t,v=e.after);var a=i(u,e.p1,e.p2);a<y&&(y=a,m=e.after)}),v!==s&&(b=v),m!==s&&(b=m),void 0!==b){var C=!1;if(void 0!==s){var k=e.Event("sortablechange");k.after=b,p.trigger(k),C=k.isDefaultPrevented()}C||(b?t.detach().insertAfter(b):t.detach().insertBefore(r.firstChild()),s=b,g())}}}),p.on("draggableend",function(a){a.stopImmediatePropagation(),p.css({position:"",width:"",height:"",top:"",left:""}),t.replaceWith(p),t=void 0,l=void 0,"TR"===p[0].nodeName&&(p.closest("table").find("tr").first().children("td, th").each$(function(e,t){t.css("width",t.data("width-before-drag")),t.data("width-before-drag",null)}),p.children("td, th").each$(function(e,t){t.css("width","")}),p.css("width",""));var i=e.Event("sortableend");i.initialIndex=f,i.newIndex=p.index(),i.after=s,p.trigger(i),i.isDefaultPrevented()&&(n?p.detach().insertAfter(n):p.detach().insertBefore(r.firstChild())),n=void 0})}function v(e,t){var a={};return a[d]=e,a[h]=t,a}});function a(e){return{top:e.top+e.height/2,left:e.left+e.width/2}}function n(e,t){return Math.pow(e.left-t.left,2)+Math.pow(e.top-t.top,2)}function i(e,t,a){return Math.sqrt(function(e,t,a){var i=n(t,a);if(0==i)return n(e,t);var r=((e.left-t.left)*(a.left-t.left)+(e.top-t.top)*(a.top-t.top))/i;return n(e,r<0?t:r>1?a:{left:t.left+r*(a.left-t.left),top:t.top+r*(a.top-t.top)})}(e,t,a))}},{addChild:function(t){h("sortable",e(this))._prepareChild.call(t)}}),e.fn.sortable.defaults=re;var oe="ff-tab-headers",se="ff-tab-pages",le={};c("tabs",function(t){return this.each$(function(a,n){if(0===n.children("div."+oe).length){f("tabs",le,n,{},t)._addTab=l;var i=n.children("div"),r=i.filter(".active").first(),o=e("<div/>").addClass(oe).appendTo(n),s=e("<div/>").addClass(se).appendTo(n);i.each(l)}function l(){var t=e("<a/>").attr("href","#").attr("tabindex","-1").text(e(this).attr("title")).appendTo(o),a=e(this).removeAttr("title").detach().appendTo(s);0!==r.length&&r[0]!==a[0]||(t.addClass("active").removeAttr("tabindex"),a.addClass("active"),r=a),t.click(function(e){e.preventDefault(),n.tabs.activeTab(a)}),t.keydown(function(e){37===e.which&&(e.preventDefault(),t.prev().focus().click()),39===e.which&&(e.preventDefault(),t.next().focus().click()),36===e.which&&(e.preventDefault(),t.parent().children().first().focus().click()),35===e.which&&(e.preventDefault(),t.parent().children().last().focus().click())})}})},{addTab:function(t){h("tabs",e(this))._addTab.call(t)},removeTab:function(t){var a=e(this),n=a.children("div."+oe).first(),i=a.find("div."+se).first(),r=t;e.isNumeric(t)||(r=t.index());var o=i.children().length,s=n.children().eq(r),l=i.children().eq(r);if(s.remove(),l.remove(),l.hasClass("active")){var d=Math.min(r,o-2);d>=0&&a.tabs.activeTab(d)}},title:function(t,a){var n=e(this).children("div."+oe).first(),i=t;e.isNumeric(t)||(i=t.index());var r=n.children().eq(i);if(void 0===a)return r.text();r.text(a)},activeTab:function(t){return void 0===t?this.find("div."+se+" > .active").first():this.each$(function(a,n){var i,r,o=n.children("div."+oe).first(),s=n.find("div."+se).first();e.isNumeric(t)?(i=+t,r=s.children().eq(i)):(i=t.index(),r=t),r&&!r.hasClass("active")&&(o.children().attr("tabindex","-1"),o.children(".active").removeClass("active"),o.children().eq(i).addClass("active").removeAttr("tabindex"),s.children(".active").removeClass("active"),r.addClass("active"),n.trigger("activeTabChange"))})},pages:function(){return e(this).find("div."+se).first().children()},moveTab:function(t,a){var n=e(this),i=n.children("div."+oe).first(),r=n.find("div."+se).first(),o=t;e.isNumeric(t)||(o=t.index());var s=i.children(),l=r.children(),d=(l.length,s.eq(o)),c=l.eq(o),f=s.eq(a),h=l.eq(a);0===f.length?a>0?(d.insertAfter(s.last()),c.insertAfter(l.last())):(d.insertBefore(s.first()),c.insertBefore(l.first())):a>o?(d.insertAfter(f),c.insertAfter(h)):a<o&&(d.insertBefore(f),c.insertBefore(h))}}),e.fn.tabs.defaults=le;var de="ff-input-wrapper",ce={localeCode:void 0,monthFormatter:void 0,dayFormatter:void 0};function fe(t,n,i,r,o,s,l,d,c){var f=this,h=e("<div/>").addClass("ff-timepicker-clock").css("padding","10px "+((n.width-n.height)/2+10)+"px").appendTo(t),u=n.height-20,p=e("<div/>").addClass("ff-timepicker-inner").addClass("hidden").css("width",u).css("height",u).appendTo(h),v=u/2-16-5,m=.32*u-16;if("h"===o)for(var g=1;g<=24;g++){var b=g<=12?v:m,w=u/2-Math.cos(g/12*2*Math.PI)*b-16,y=u/2+Math.sin(g/12*2*Math.PI)*b-16,C=e("<span/>").css("top",w).css("left",y).appendTo(p);e("<span/>").text(g%24).appendTo(C);g>12&&C.addClass("inner-circle")}else for(var k=0;k<60;k+=5){var x=u/2-Math.cos(k/60*2*Math.PI)*v-16,T=u/2+Math.sin(k/60*2*Math.PI)*v-16,D=e("<span/>").css("top",x).css("left",T).appendTo(p);e("<span/>").text(k).appendTo(D)}p.children().addClass("item").css("width",32).css("height",32);var M=a.createElementNS("http://www.w3.org/2000/svg","svg");p.append(M);var E=a.createElementNS("http://www.w3.org/2000/svg","ellipse");E.setAttribute("class","clock-center-cirle"),E.setAttribute("cx",u/2),E.setAttribute("cy",u/2),E.setAttribute("rx",3.5),E.setAttribute("ry",3.5),M.appendChild(E);var S=a.createElementNS("http://www.w3.org/2000/svg","line");S.setAttribute("class","clock-hour-line"),S.setAttribute("visibility","hidden"),S.setAttribute("x1",u/2),S.setAttribute("y1",u/2),M.appendChild(S);var L=void 0,P=void 0;if("h"!==o){S.setAttribute("class","clock-minute-line");var A=a.createElementNS("http://www.w3.org/2000/svg","svg");p.prepend(A),(L=a.createElementNS("http://www.w3.org/2000/svg","ellipse")).setAttribute("class","clock-extra-item"),L.setAttribute("visibility","hidden"),L.setAttribute("stroke-width",14),L.setAttribute("rx",9),L.setAttribute("ry",9),A.appendChild(L),(P=a.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("class","clock-hour-line secondary"),P.setAttribute("visibility","hidden"),P.setAttribute("x1",u/2),P.setAttribute("y1",u/2),A.appendChild(P)}var I=e("<div/>").css("width",0).css("height",0).appendTo(p);I.draggable({catchElement:h}),I.on("draggablemove",function(e){var t=I.outerWidth()/2,a=p.rect(),n=a.width/2,i=Math.atan2(e.newPoint.left+t-(a.left+n),a.top+n-(e.newPoint.top+t)),r=Math.sqrt(Math.pow(e.newPoint.left+t-(a.left+n),2)+Math.pow(e.newPoint.top+t-(a.top+n),2));if("h"===o){var c=r>(m+v)/2,h=(i/2/Math.PI*360+360)%360,u=Math.round(h/360*12);i=(h=(u=(u+11)%12+1)/12*360)/360*2*Math.PI,c||(u=(u+12)%24),s()[o]=u;var g=c?v:m;f.update(),d&&d(),e.newPoint={top:-Math.cos(i)*g+a.top+n-t,left:Math.sin(i)*g+a.left+n-t}}else{var b=(i/2/Math.PI*360+360)%360,w=Math.round(b/360*60)%60;i=(b=w/60*360)/360*2*Math.PI;var y=s();y[o]>=45&&w<=15?l(1,1,"s"===o?"min":"h"):y[o]<=15&&w>=45&&l(-1,1,"s"===o?"min":"h"),y[o]=w,f.update(),d&&d(),e.newPoint={top:-Math.cos(i)*v+a.top+n-t,left:Math.sin(i)*v+a.left+n-t}}}),I.on("draggableend",function(e){c&&c()}),f.update=function(){var t=s();if("h"===o)if(p.find(".item").removeClass("selected"),e.isSet(t[o])){p.find(".item").eq((t[o]+23)%24).addClass("selected");var a=u/2,n=t[o]/12*2*Math.PI,i=t[o]>=1&&t[o]<=12?v:m;i-=20,S.setAttribute("visibility","visible"),S.setAttribute("x2",Math.sin(n)*i+a),S.setAttribute("y2",-Math.cos(n)*i+a)}else S.setAttribute("visibility","hidden"),S.setAttribute("x2",u/2),S.setAttribute("y2",u/2);else if(p.find(".item").removeClass("selected"),e.isSet(t[o])){t[o]%5==0&&p.find(".item").eq(t[o]/5).addClass("selected");var r=u/2,l=t[o]/60*2*Math.PI,d=v-20;S.setAttribute("visibility","visible"),S.setAttribute("x2",Math.sin(l)*d+r),S.setAttribute("y2",-Math.cos(l)*d+r),t[o]%5!=0?(L.setAttribute("visibility","visible"),L.setAttribute("cx",Math.sin(l)*v+r),L.setAttribute("cy",-Math.cos(l)*v+r)):L.setAttribute("visibility","hidden"),"min"===o&&(e.isSet(t.h)?(l=(t.h+t.min/60)/12*2*Math.PI,d*=.6,P.setAttribute("visibility","visible"),P.setAttribute("x2",Math.sin(l)*d+r),P.setAttribute("y2",-Math.cos(l)*d+r)):P.setAttribute("visibility","hidden"))}else S.setAttribute("visibility","hidden"),P.setAttribute("visibility","hidden"),L.setAttribute("visibility","hidden")},f.show=function(){p.removeClass("hidden hidden-reverse")},f.hide=function(){p.addClass("hidden"),p.removeClass("hidden-reverse")},f.hideReverse=function(){p.addClass("hidden-reverse"),p.removeClass("hidden")},f.update()}function he(e,t){return 4===e||6===e||9===e||11===e?30:2===e?t?t%4==0&&t%100!=0||t%400==0?29:28:29:31}function ue(e){var t={};(e=new Date(e.getTime())).setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7),t.y=e.getFullYear();var a=new Date(e.getFullYear(),0,4);return t.w=1+Math.round(((e.getTime()-a.getTime())/864e5-3+(a.getDay()+6)%7)/7),t}c("timePicker",function(t){return this.each$(function(a,n){if(!n.parent().hasClass(de)){var i=f("timePicker",ce,n,{},t),o=n.attr("type").trim().toLowerCase(),s="date"===o||"datetime-local"===o||"month"===o||"week"===o,l="week"===o,d="date"===o||"datetime-local"===o,c="datetime-local"===o||"time"===o,h=+n.attr("step")||(c?60:1),u=c&&h<3600,p=c&&h<60,v=n.prop("required");n.prop("required",!1);var m=e("<div/>").addClass(de).attr("style",n.attr("style"));n.before(m).appendTo(m),n.hide(),n.attr("autocomplete","off");var g=!1,b=!1,w=e("<input/>").attr("type","text").prop("readonly",!0).attr("inputmode","none").attr("enterkeyhint","done").attr("autocapitalize","off").attr("autocomplete","off").attr("autocorrect","off").attr("spellcheck","false").insertAfter(n);n.data("ff-replacement",w),w.change(function(){g=!0,n.valChange(ge()),g=!1,se(),Ee()}),n.change(function(){g||(be(n.val()),w.trigger("input").change())}),w.on("copy",function(e){e.originalEvent.clipboardData&&(e.originalEvent.clipboardData.setData("text/plain",w.val()),e.preventDefault())}),w.on("paste",function(e){if(e.preventDefault(),e.originalEvent.clipboardData){for(var t=e.originalEvent.clipboardData.getData("text"),a="",i=[],o=0;o<D.length;o++)D[o].name?(D[o].options?a+="("+D[o].options.map(function(e){return r(e)}).join("|")+")":a+="([0-9]{1,"+D[o].length+"})",i.push(D[o])):a+=r(D[o].text);var s=new RegExp("^"+a+"$").exec(t),l={};if(s){for(var d=0;d<i.length;d++){var c=+s[d+1];if(isNaN(c)&&(c=i[d].options.indexOf(s[d+1])+i[d].min),c<i[d].min||c>i[d].max)return;l[i[d].name]=c}q=l,n.val(ge()),oe(!0),me(),w.trigger("input").change()}}});var y={cs:{y:"rrrr",month:"Měsíc",week1:null,week2:". týden, ",w:"tt",today:"Dnes",now:"Teď",back:"Zpátky",keyboard:"Klávesnice",clear:"Smazat"},da:{y:"åååå",month:"Måned",week1:"Uge ",w:"uu",today:"I dag",now:"Nu",back:"Tilbage",keyboard:"Tastatur",clear:"Slette"},de:{y:"jjjj",month:"Monat",week1:"Woche ",w:"ww",d:"tt",today:"Heute",now:"Jetzt",back:"Zurück",keyboard:"Tastatur",clear:"Löschen"},en:{y:"yyyy",month:"Month",mo:"mm",week1:"Week ",week2:", ",w:"ww",d:"dd",today:"Today",now:"Now",back:"Back",keyboard:"Keyboard",clear:"Clear"},es:{y:"aaaa",month:"Mes",week1:"Semana ",w:"ss",today:"Hoy",now:"Ahora",back:"Atrás",keyboard:"Teclado",clear:"Borrar"},fi:{y:"vvvv",month:"Kuukausi",mo:"kk",week1:"Viikko ",w:"vv",d:"pp",today:"Tänään",now:"Nyt",back:"Takaisin",keyboard:"Näppäimistö",clear:"Poistaa"},fr:{y:"aaaa",month:"Mois",week1:"Semaine ",w:"ss",d:"jj",today:"Aujourd’hui",now:"Maintenant",back:"Retour",keyboard:"Clavier",clear:"Supprimer"},hu:{y:"éééé",month:"Hónap",mo:"hh",week1:null,week2:". hét, ",w:"hh",d:"nn",today:"Ma",now:"Most",back:"Vissza",keyboard:"Billentyűzet",clear:"Töröl"},is:{y:"áááá",month:"Mánuður",week1:"Vika ",w:"vv",today:"Í dag",now:"Núna",back:"Aftur",keyboard:"Lyklaborð",clear:"Eyðing"},it:{y:"aaaa",month:"Mese",week1:"Settimana ",w:"ss",d:"gg",today:"Oggi",now:"Ora",back:"Indietro",keyboard:"Tastiera",clear:"Cancellare"},nl:{y:"jjjj",month:"Maand",week1:"Week ",w:"ww",today:"Vandaag",now:"Nu",back:"Terug",keyboard:"Toetsenbord",clear:"Wissen"},no:{y:"åååå",month:"Måned",week1:"Uke ",w:"uu",today:"I dag",now:"Nå",back:"Tilbake",keyboard:"Tastatur",clear:"Slette"},pt:{y:"aaaa",month:"Mês",week1:"Semana ",week2:", de ",w:"ss",today:"Hoje",now:"Agora",back:"De volta",keyboard:"Teclado",clear:"Cancelar"},ro:{y:"aaaa",month:"Lună",mo:"ll",week1:"Săptămâna ",w:"ss",d:"zz",today:"Astăzi",now:"Acum",back:"Înapoi",keyboard:"Tastatură",clear:"Șterge"},sk:{y:"rrrr",month:"Mesiac",week1:null,week2:". týždeň, ",w:"tt",today:"Dnes",now:"Teraz",back:"Späť",keyboard:"Klávesnica",clear:"Vymazať"},sl:{y:"llll",month:"Mesec",week1:null,week2:". teden, ",w:"tt",today:"Danes",now:"Zdaj",back:"Nazaj",keyboard:"Tipkovnica",clear:"Izbrisati"},sv:{y:"åååå",month:"Månad",week1:"Vecka ",week2:" ",w:"vv",today:"Idag",now:"Nu",back:"Tillbaka",keyboard:"Tangentbord",clear:"Radera"}};se();var C=e("<div/>").addClass("dropdown bordered"),k={calendar:"gregory",numberingSystem:"latn"};s&&!l&&(d?(k.day="numeric",k.month="numeric"):k.month="long",k.year="numeric"),c&&(k.hour="numeric",k.hour12=!1,u&&(k.minute="numeric",p&&(k.second="numeric")));var x=new Intl.DateTimeFormat(i.localeCode,k),T=x.resolvedOptions().locale.split("-")[0],D=[];if(l)re("week1")&&D.push({text:re("week1")}),D.push({name:"w",min:1,max:53,length:2,placeholder:re("w")}),re("week2")&&D.push({text:re("week2")}),D.push({name:"y",min:1,max:9999,length:4,placeholder:re("y")});else{var M=x.formatToParts(new Date),E=!0,S=!1,L=void 0;try{for(var P,A=M[Symbol.iterator]();!(E=(P=A.next()).done);E=!0){var I=P.value;switch(I.type){case"literal":D.push({text:I.value});break;case"year":D.push({name:"y",min:1,max:9999,length:4,placeholder:re("y")});break;case"month":if("numeric"===k.month)D.push({name:"mo",min:1,max:12,length:2,placeholder:re("mo")});else{for(var z=new Intl.DateTimeFormat(i.localeCode,{month:"long"}),$=[],O=0;O<12;O++)$.push(z.format(new Date(2e3,O,1)));D.push({name:"mo",min:1,max:12,length:4,options:$,placeholder:re("month")})}break;case"day":D.push({name:"d",min:1,max:31,length:2,placeholder:re("d")});break;case"hour":D.push({name:"h",min:0,max:23,length:2});break;case"minute":D.push({name:"min",min:0,max:59,length:2});break;case"second":D.push({name:"s",min:0,max:59,length:2})}}}catch(e){S=!0,L=e}finally{try{!E&&A.return&&A.return()}finally{if(S)throw L}}}for(var N=-1,W=0;W<D.length;W++)if(D[W].name){N=W;break}var R,H,F=!1,_=0,q={};me();var K,B=!1;w.focus(function(){B=!0,setTimeout(De,0),K&&(clearTimeout(K),K=void 0)}),w.blur(function(){B=!1,ke(),w.prop("readonly",!0).attr("inputmode","none"),b=!1,w.hasClass("open")||oe(),w.hasClass("open")&&!K&&(K=setTimeout(function(){C.dropdown.close(),K=void 0},50))}),w.on("mousedown mouseup",function(e){ke(),setTimeout(De,0)}),w.click(function(){w.disabled()||b||w.hasClass("open")||(d&&!q.d?(ve("d"),me()):l&&!q.w?(ve("w"),me()):c&&!e.isSet(q.h)&&(ve("h"),me()),Se())});var j=[".",":","-","/",","];w.keydown(function(t){var a=t.keyCode;if(13===t.keyCode&&(t.preventDefault(),C.dropdown.close(),w.prop("readonly",!0).attr("inputmode","none"),b=!1),27===t.keyCode&&(t.preventDefault(),C.dropdown.close()),32===t.keyCode)t.preventDefault(),w.hasClass("open")?C.dropdown.close():Se();else if(37===a)t.preventDefault(),function(){for(var e=N-1;e>=0;e--)if(D[e].name){N=e,F=!1,_=0,Me();break}}(),me(),ke();else if(39===a)t.preventDefault(),Te(),me(),ke();else if(38===a)t.preventDefault(),we(1,1);else if(40===a)t.preventDefault(),we(-1,1);else if(33===a)t.preventDefault(),we(1,xe());else if(34===a)t.preventDefault(),we(-1,xe());else if(8===a||46===a)t.preventDefault(),v||(delete q[D[N].name],me(),w.trigger("input").change()),ke();else if(a>=48&&a<=57||a>=96&&a<=105){t.preventDefault();var n=t.keyCode;n>=96&&(n-=48),n-=48;var i=D[N],r=q[i.name];e.isSet(r)&&F?(r=10*r+n)>Ce(i)&&(r=n):r=n,F=!0,_++,q[i.name]=r,(_>=i.length&&r>=i.min||10*r>Ce(i))&&Te(),me(),ke(),w.trigger("input").change()}else if(-1!==j.indexOf(t.originalEvent.key))t.preventDefault(),F&&(Te(),me()),ke();else if(1!==t.originalEvent.key.length||t.originalEvent.altKey||t.originalEvent.ctrlKey)me(),w.trigger("input").change();else{t.preventDefault(),F||(R=""),R+=t.originalEvent.key.toLowerCase(),F=!0,_++;var o=D[N];if(o.options)for(var s=0;s<o.options.length;s++)if(o.options[s].toLowerCase().startsWith(R)){q[o.name]=s+o.min,me();break}H||(H=setTimeout(function(){F=!1,_=0,H=null,R=""},2e3))}}),w.on("input",function(e){e.originalEvent&&(-1!==j.indexOf(e.originalEvent.data)&&(F&&Te(),ke()),me(),w.trigger("input").change())}),be(n.val());var Y=e("<div/>").addClass("ff-timepicker").appendTo(C),V=e("<div/>").addClass("ff-timepicker-buttons").appendTo(Y),Z={width:280,height:240};s||(Z.width=Z.height);var X=e("<div/>").addClass("ff-timepicker-content").css("width",Z.width).css("height",Z.height).appendTo(Y),G=C.parent().hasClass("dark"),U=function(){me(),w.trigger("input").change()},Q=void 0,J=void 0,ee=void 0,te=void 0,ae=void 0;s&&(Q=new function(t,a,n,i,r,o,s,l,d,c){var f=this,h=e("<div/>").addClass("ff-timepicker-year").appendTo(t),u=e("<div/>").addClass("ff-timepicker-inner").addClass("hidden").appendTo(h),p=(a.height-30-1)/4,v=e("<div/>").addClass("header").css("height",30).appendTo(u),m=e("<a/>").addClass("button narrow transparent").html('<svg xmlns="http://www.w3.org/2000/svg" width="8" height="12"><polyline fill="none" stroke-width="1.2" points="6,1 1,6 6,11"/></svg>').on("repeatclick",function(e){e.preventDefault(),w(),l(-1,1,"y")}).appendTo(v);m.repeatButton();var g=e("<span/>").appendTo(v),b=e("<a/>").addClass("button narrow transparent").html('<svg xmlns="http://www.w3.org/2000/svg" width="8" height="12"><polyline fill="none" stroke-width="1.2" points="1,1 6,6 1,11"/></svg>').on("repeatclick",function(e){e.preventDefault(),w(),l(1,1,"y")}).appendTo(v);function w(){var e=s(),t=new Date;e.y||(e.y=t.getFullYear())}b.repeatButton();var y=e("<div/>").addClass("months").appendTo(u),C=new Intl.DateTimeFormat(i.localeCode,{month:"long"});f.update=function(){var t=s(),a=new Date,n=t.y||a.getFullYear();g.text((n+"").padStart(4,"0")),m.disabled(1===t.y),b.disabled(9999===t.y),y.children().remove();for(var l=function(t){var a=e("<div/>").addClass("item").css("height",p).appendTo(y).click(function(){var a=s();a.mo=t,e.isSet(a.y)||(a.y=(new Date).getFullYear()),f.update(),d&&d(),c&&c()});e("<span/>").text(C.format(new Date(2e3,t-1,1))).appendTo(a),i.monthFormatter&&i.monthFormatter(a,new Date(n,t-1,1))},h=1;h<=12;h++)l(h);o&&y.find(".item").each$(function(t,a){a.children().eq(1).remove(),e("<span/>").addClass("week-numbers").text(r("w").substring(0,1).toUpperCase()+" "+ue(new Date(n,t,1)).w+" – "+ue(new Date(n,t+1,0)).w).appendTo(a)}),y.find(".item").removeClass("selected now"),e.isSet(t.mo)&&y.find(".item").eq(t.mo-1).addClass("selected"),a.getFullYear()===n&&y.find(".item").eq(a.getMonth()).addClass("now")},f.show=function(){u.removeClass("hidden hidden-reverse")},f.hide=function(){u.addClass("hidden"),u.removeClass("hidden-reverse")},f.hideReverse=function(){u.addClass("hidden-reverse"),u.removeClass("hidden")},f.update()}(X,Z,G,i,re,l,function(){return q},we,U,function(){if(d)ve("d"),me(),Q.hide(),J.show();else if(l){if(q.w<ue(new Date(q.y,q.mo-1,1)).w||q.w>ue(new Date(q.y,q.mo,0)).w){var e=ue(new Date(q.y,q.mo-1,4));delete q.mo,q.y=e.y,q.w=e.w}ve("w"),me(),J.update(),Q.hide(),J.show()}else C.dropdown.close()}),J=new function(t,a,n,i,r,o,s,l,d,c){var f=this,h=e("<div/>").addClass("ff-timepicker-month").appendTo(t),u=e("<div/>").addClass("ff-timepicker-inner").addClass("hidden").appendTo(h),p=(a.height-30-1-20)/6,v=void 0,m=void 0,g=e("<div/>").addClass("header").css("height",30).appendTo(u),b=e("<a/>").addClass("button narrow transparent").html('<svg xmlns="http://www.w3.org/2000/svg" width="8" height="12"><polyline fill="none" stroke-width="1.2" points="6,1 1,6 6,11"/></svg>').on("repeatclick",function(e){e.preventDefault(),"d"===o?(C(),l(-1,1,"mo")):(k(),l(-1,m,"w"))}).appendTo(g);b.repeatButton();var w=e("<span/>").appendTo(g),y=e("<a/>").addClass("button narrow transparent").html('<svg xmlns="http://www.w3.org/2000/svg" width="8" height="12"><polyline fill="none" stroke-width="1.2" points="1,1 6,6 1,11"/></svg>').on("repeatclick",function(e){e.preventDefault(),"d"===o?(C(),l(1,1,"mo")):(k(),l(1,v,"w"))}).appendTo(g);function C(){var e=s(),t=new Date;e.mo||(e.mo=t.getMonth()+1),e.y||(e.y=t.getFullYear())}function k(){var e=s(),t=new Date,a=ue(t);e.w&&e.y||(e.w=a.w,e.y=a.y)}y.repeatButton();for(var x=new Intl.DateTimeFormat(i.localeCode,{weekday:"short"}),T=e("<div/>").addClass("weekdays").appendTo(u),D=1;D<=7;D++)e("<div/>").css("height",20).text(x.format(new Date(2018,0,D)).toUpperCase()).appendTo(T);var M=e("<div/>").addClass("weeks").addClass("d"===o?"day-selection":"week-selection").appendTo(u),E=new Intl.DateTimeFormat(i.localeCode,{month:"long"}),S=void 0,L=void 0,P=void 0;f.update=function(t){var a=s(),n=new Date,r=a.y||n.getFullYear(),l=a.mo||n.getMonth()+1;if("w"===o&&a.w){for(var h=new Date(r,1,1);4!==h.getDay();)h.setDate(h.getDate()+1);for(;a.w!==ue(h).w;)h.setDate(h.getDate()+7);l=h.getMonth()+1,v=4,h=new Date(r,l-1,1),he(l,r)+(0===h.getDay()?7:h.getDay())>=36&&v++,m=4,h=new Date(r,l-2,1),he(l-1,r)+(0===h.getDay()?7:h.getDay())>=36&&m++}if(w.text(E.format(new Date(r,l-1,1))+" "+(r+"").padStart(4,"0")),b.disabled(1===r&&1===l),y.disabled(9999===r&&12===l),t||r!==S||l!==L){M.children().remove();var u=he(l,r),g=new Date(r,l-1,1),C=g.getDay();0===C&&(C=7);var k=he(1===l?12:l-1,r);P=k-(C-2);for(var x=N(g),T=0,D=function(t){7===x.children(".item").length&&(g.setDate(g.getDate()+7),x=N(g));var a=e("<div/>").addClass("item prev-month").css("height",p).appendTo(x);"d"===o&&(l>1||r>1)&&a.click(function(){var e=s();e.d=t,e.mo=l-1,e.y=r,0===e.mo&&(e.mo=12,e.y=r-1),f.update(),d&&d(),c&&c()}),l>1||r>1?e("<span/>").text(t).appendTo(a):a.disable(),i.dayFormatter&&i.dayFormatter(a,new Date(r,l-2,t)),T++},A=P;A<=k;A++)D(A);for(var I=function(t){7===x.children(".item").length&&(g.setDate(g.getDate()+7),x=N(g));var a=e("<div/>").addClass("item day").css("height",p).appendTo(x);"d"===o&&a.click(function(){var e=s();e.d=t,e.mo=l,e.y=r,f.update(),d&&d(),c&&c()}),e("<span/>").text(t).appendTo(a),i.dayFormatter&&i.dayFormatter(a,new Date(r,l-1,t)),T++},z=1;z<=u;z++)I(z);for(var $=function(t){7===x.children(".item").length&&(g.setDate(g.getDate()+7),x=N(g));var a=e("<div/>").addClass("item next-month").css("height",p).appendTo(x);"d"===o&&(l<12||r<9999)&&a.click(function(){var e=s();e.d=t,e.mo=l+1,e.y=r,13===e.mo&&(e.mo=1,e.y=r+1),f.update(),d&&d(),c&&c()}),l<12||r<9999?e("<span/>").text(t).appendTo(a):a.disable(),i.dayFormatter&&i.dayFormatter(a,new Date(r,l,t))},O=1;O<=42-T;O++)$(O);S=r,L=l}function N(t){var a=ue(t),n=e("<div/>").addClass("days").data("week",a.w).data("year",a.y).appendTo(M).append(e("<div/>").addClass("week-number").append(e("<span/>").text(a.w)));return"w"===o&&n.click(function(){var e=s();e.w=a.w,e.y=a.y,f.update(),d&&d(),c&&c()}),n}if("d"===o?(M.find(".item").removeClass("selected"),e.isSet(a.d)&&M.find(".item.day").eq(a.d-1).addClass("selected")):(M.children().removeClass("selected"),e.isSet(a.w)&&M.children().each$(function(e,t){t.data("week")==a.w&&t.addClass("selected")})),M.find(".item").removeClass("now"),n.getFullYear()===r&&n.getMonth()===l-1)M.find(".item.day").eq(n.getDate()-1).addClass("now");else{var W=12*n.getFullYear()+n.getMonth(),R=12*r+l-1;W===R-1&&n.getDate()>=P?M.find(".item.prev-month").eq(n.getDate()-P).addClass("now"):W===R+1&&n.getDate()<=14&&M.find(".item.next-month").eq(n.getDate()-1).addClass("now")}},f.show=function(){u.removeClass("hidden hidden-reverse")},f.hide=function(){u.addClass("hidden"),u.removeClass("hidden-reverse")},f.hideReverse=function(){u.addClass("hidden-reverse"),u.removeClass("hidden")},f.update()}(X,Z,G,i,re,l?"w":"d",function(){return q},we,U,function(){c?(ve("h"),me(),J.hide(),ee.show()):C.dropdown.close()}),i._updateMonthView=function(){return J.update(!0)}),c&&(ee=new fe(X,Z,G,re,"h",function(){return q},we,U,function(){u?(ve("min"),me(),ee.hide(),te.show()):C.dropdown.close()}),u&&(te=new fe(X,Z,G,re,"min",function(){return q},we,U,function(){p?(ve("s"),me(),te.hide(),ae.show()):C.dropdown.close()})),p&&(ae=new fe(X,Z,G,re,"s",function(){return q},we,U,function(){C.dropdown.close()})));var ne=e("<button type='button'/>").addClass("narrow").html('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" style="margin:-2px"><path d="M6,6L6,9.5L0,5L6,0.5L6,4L10,4C11.796,4 13.284,4.62 14.332,5.668C15.38,6.716 16,8.204 16,10C16,11.796 15.38,13.284 14.332,14.332C13.284,15.38 11.796,16 10,16L8,16L8,14L10,14C11.204,14 12.216,13.62 12.918,12.918C13.62,12.216 14,11.204 14,10C14,8.796 13.62,7.784 12.918,7.082C12.216,6.38 11.204,6 10,6L6,6Z"/></svg>').attr("title",re("back")).appendTo(V).click(function(e){ve(pe(D[N].name)),Me(),me(),ke()});e("<button type='button'/>").text(re(c?"now":"today")).appendTo(V).click(function(){var e=new Date;if(l){var t=ue(e);q.y=t.y,q.w=t.w}else s&&(q.y=e.getFullYear(),q.mo=e.getMonth()+1);d&&(q.d=e.getDate()),c&&(q.h=e.getHours()),u&&(q.min=e.getMinutes()),p&&(q.s=e.getSeconds()),me(),w.trigger("input").change()}),e("<button type='button'/>").addClass("narrow").html('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" style="margin:-2px;fill-rule:evenodd;"><path d="M9,13L6,13L6,16L9,16L9,13ZM5,9L2,9L2,12L5,12L5,9ZM13,9L10,9L10,12L13,12L13,9ZM9,9L6,9L6,12L9,12L9,9ZM5,5L2,5L2,8L5,8L5,5ZM9,5L6,5L6,8L9,8L9,5ZM13,5L10,5L10,8L13,8L13,5ZM5,1L2,1L2,4L5,4L5,1ZM9,1L6,1L6,4L9,4L9,1ZM13,1L10,1L10,4L13,4L13,1Z"/></svg>').attr("title",re("keyboard")).appendTo(V).click(function(e){b=!0,C.dropdown.close(),w.prop("readonly",!1).attr("inputmode","decimal")}),v||(e("<button type='button'/>").addClass("narrow").html('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" style="margin:-2px;fill-rule:evenodd;"><path d="M0.293,8L6.293,14L16,14L16,2L6.293,2L0.293,8ZM6.707,3L1.707,8L6.707,13L15,13L15,3L6.707,3ZM10,7.293L12.646,4.646L13.354,5.354L10.707,8L13.354,10.646L12.646,11.354L10,8.707L7.354,11.354L6.646,10.646L9.293,8L6.646,5.354L7.354,4.646L10,7.293Z"/></svg>').attr("title",re("clear")).appendTo(V).click(function(e){C.dropdown.close(),be("")}),V.addClass("four-buttons"));var ie=!1;C.on("mousedown",function(e){0===e.originalEvent.button?(ie=!0,setTimeout(function(){w.focus()},0)):ie=!1}),C.on("mouseup",function(e){ie&&(ie=!1,w.focus())}),C.on("dropdownclose",function(){w.removeClass("open"),b||oe()})}function re(e){return e in y[T]?y[T][e]:y.en[e]}function oe(t){for(var a=!0,i=0;i<D.length;i++)if(D[i].name&&!e.isSet(q[D[i].name])){a=!1;break}if(a&&!n.val()){if(l){var r=le("w");r&&(q.w=Ce(r))}else{var o=le("d");o&&(q.d=Ce(o))}t||(me(),w.trigger("input").change())}}function se(){v&&(n.val()?w.attr("pattern",null):w.attr("pattern","^invalid$"))}function le(e){for(var t=0;t<D.length;t++)if(D[t].name===e)return D[t];return null}function pe(e){switch(e){case"mo":case"w":return"y";case"d":return"mo";case"h":return"d";case"min":return"h";case"s":return"min";default:return null}}function ve(e){for(var t=0;t<D.length;t++)if(D[t].name===e){N=t,F=!1,_=0;break}}function me(){for(var t="",a=0;a<D.length;a++){var n=D[a];if(e.isSet(n.text))t+=n.text;else if(n.name){n.start=t.length;var i=q[n.name];e.isSet(i)?n.options?t+=n.options[i-n.min]:t+=(i+"").padStart(n.length,"0"):n.placeholder?t+=n.placeholder:t+="-".repeat(n.length),n.end=t.length}}w.val(t),D[N]&&D[N].end&&w[0].setSelectionRange(D[N].start,D[N][B?"end":"start"])}function ge(){var t="";if(s){if(!e.isSet(q.y))return"";if(t+=(q.y+"").padStart(4,"0")+"-",l){if(!e.isSet(q.w))return"";t+="W"+(q.w+"").padStart(2,"0")}else{if(!e.isSet(q.mo))return"";if(t+=(q.mo+"").padStart(2,"0"),d){if(!e.isSet(q.d))return"";t+="-"+(q.d+"").padStart(2,"0")}}}if(c){if(s&&(t+="T"),!e.isSet(q.h))return"";if(!e.isSet(q.min))return"";if(t+=(q.h+"").padStart(2,"0")+":"+(q.min+"").padStart(2,"0"),p){if(!e.isSet(q.s))return"";t+=":"+(q.s+"").padStart(2,"0")}}return t}function be(e){var t=void 0;q={},(t=e.match(/^([0-9]+)-([0-9]+)(?:-([0-9]+)(?:T([0-9]+):([0-9]+)(?::([0-9]+)(?:.[0-9]+)?)?)?)?$/))?(q.y=+t[1],q.mo=+t[2],t[3]&&(q.d=+t[3]),t[4]&&(q.h=+t[4]),t[5]&&(q.min=+t[5]),t[6]&&(q.s=+t[6])):(t=e.match(/^([0-9]+):([0-9]+)(?::([0-9]+))?$/))?(q.h=+t[1],q.min=+t[2],t[3]&&(q.s=+t[3])):(t=e.match(/^([0-9]+)-W([0-9]+)$/))&&(q.y=+t[1],q.w=+t[2]),me(),se(),ke()}function we(t,a,n){var i=n?le(n):D[N];if(i){var r=q[i.name];if(e.isSet(r))for(var o=e.extend({},q);a-- >0;){var l=void 0,d=i;do{q[d.name]+=t,l=!1,t>0&&q[d.name]>Ce(d)?(l=!0,q[d.name]=ye(d)):t<0&&q[d.name]<ye(d)&&(l=!0,q[d.name]=Ce(d,t)),l&&(d=le(pe(d.name)))&&!e.isSet(q[d.name])&&(l=!1)}while(d&&l);l&&s&&(q=o)}else q[i.name]=i[t>0?"min":"max"];me(),ke(),w.trigger("input").change(),w[0].focus(),F=!1,_=0}}function ye(e,t){return e.min}function Ce(e,t){if("w"===e.name){var a=q.y;if(a){var n=function(e){return(1+(e-1)%4*5+(e-1)%100*4+(e-1)%400*6)%7};if(4!==n(a+=t||0)&&5!==n(a+1))return 52}return e.max}if("d"===e.name){var i=q.mo;return i?(0===(i+=t||0)&&(i=12),he(i,q.y)):e.max}return e.max}function ke(){H&&(clearTimeout(H),H=null,R="")}function xe(){switch(D[N].name){case"y":return 10;case"mo":return 3;case"d":return 7;case"h":return 12;case"min":case"s":return 15;default:return 1}}function Te(){for(var e=N+1;e<D.length;e++)if(D[e].name){N=e,F=!1,_=0,Me();break}}function De(){for(var e=w[0].selectionStart,t=0;t<D.length;t++){var a=D[t];if(a.name&&e<=a.end){N=t,F=!1,_=0,Me(),B&&w[0].setSelectionRange(a.start,a.end);break}}}function Me(){switch(ne.enable(),D[N].name){case"y":case"mo":Q&&Q.show(),J&&J.hide(),ee&&ee.hide(),te&&te.hide(),ae&&ae.hide(),ne.disable();break;case"w":case"d":Q&&Q.hideReverse(),J&&J.show(),ee&&ee.hide(),te&&te.hide(),ae&&ae.hide();break;case"h":Q&&Q.hideReverse(),J&&J.hideReverse(),ee&&ee.show(),te&&te.hide(),ae&&ae.hide(),s||ne.disable();break;case"min":Q&&Q.hideReverse(),J&&J.hideReverse(),ee&&ee.hideReverse(),te&&te.show(),ae&&ae.hide();break;case"s":Q&&Q.hideReverse(),J&&J.hideReverse(),ee&&ee.hideReverse(),te&&te.hideReverse(),ae&&ae.show()}}function Ee(){Q&&Q.update(),J&&J.update(),ee&&ee.update(),te&&te.update(),ae&&ae.update()}function Se(){Me(),Ee(),w.addClass("open"),C.dropdown(w,{autoClose:!1}),w.closest(".dark").length>0&&C.parent().addClass("dark")}})},{monthFormatter:function(e){if(void 0===e){var t=this.first();if(0===t.length)return;return h("timePicker",t).monthFormatter}return this.each$(function(t,a){h("timePicker",a).monthFormatter=e})},dayFormatter:function(e){if(void 0===e){var t=this.first();if(0===t.length)return;return h("timePicker",t).dayFormatter}return this.each$(function(t,a){var n=h("timePicker",a);n.dayFormatter=e,n._updateMonthView&&n._updateMonthView()})}}),e.fn.timePicker.defaults=ce,e.fn.frontfire=function(e){void 0===e&&(e="");var t=this;function a(e){return t.find(e).addBack(e)}return a(e+".accordion").accordion(),a(e+".carousel").carousel(),a(e+"input[type=number]").spinner(),a(e+"input[type=color]").colorPicker(),a(e+"input[type=ff-color]").colorPicker(),a(e+"input[type=checkbox], input[type=radio]").styleCheckbox(),a(e+"input[type=checkbox].three-state").threeState(),a(e+"input[type=date],input[type=datetime-local],input[type=month],input[type=time],input[type=week]").timePicker(),a(e+"textarea.auto-height").autoHeight(),a(e+".menu").menu(),a(e+".critical.closable, .error.closable, .warning.closable, .information.closable, .success.closable").closableMessage(),a(e+".progressbar").progressbar(),a(e+".slider").slider(),a(e+".sortable").sortable(),a(e+".tabs").tabs(),a(e+".selectable").selectable(),a(e+"select").selectable(),this},e(a).frontfire(":not(.no-autostart)")}(jQuery,window,document);
//# sourceMappingURL=frontfire.min.js.map